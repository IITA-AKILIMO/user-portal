!function(){var e={779:function(e,t){var n;!function(){"use strict";var i={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)i.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},406:function(e){var t,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var l,s=[],c=!1,d=-1;function u(){c&&l&&(c=!1,l.length?s=l.concat(s):d=-1,s.length&&p())}function p(){if(!c){var e=a(u);c=!0;for(var t=s.length;t;){for(l=s,s=[];++d<t;)l&&l[d].run();d=-1,t=s.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||c||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},262:function(e,t,n){"use strict";var i=n(586);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,r,a){if(a!==i){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return n.PropTypes=n,n}},980:function(e,t,n){e.exports=n(262)()},586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},223:function(e,t,n){!function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(t),o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function r(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}var a,l={exports:{}},s={};l.exports=function(){if(a)return s;a=1;var e=i.default,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,i){var a,s={},c=null,d=null;for(a in void 0!==i&&(c=""+i),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)o.call(n,a)&&!l.hasOwnProperty(a)&&(s[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps)void 0===s[a]&&(s[a]=n[a]);return{$$typeof:t,type:e,key:c,ref:d,props:s,_owner:r.current}}return s.Fragment=n,s.jsx=c,s.jsxs=c,s}();var c=function(e,t,n){return"function"==typeof e?e(n):"object"==typeof e?e:t(n)},d={3:"rotate(180deg)",2:"rotateY(180deg)",4:"rotate(180deg) rotateY(180deg)",5:"rotate(270deg) rotateY(180deg)",6:"rotate(90deg)",7:"rotate(90deg) rotateY(180deg)",8:"rotate(270deg)"},u=16,p={display:"flex",flexWrap:"wrap"},m=function(e){var t=e.item,n=d[t.orientation],i={cursor:"pointer",maxWidth:"none",width:t.scaledWidth,height:t.scaledHeight,marginLeft:t.marginLeft,marginTop:0,transform:n};if(t.isSelected){var o=t.scaledWidth/t.scaledHeight,r=t.scaledHeight-32,a=t.viewportWidth-32,l=void 0,s=void 0;t.scaledWidth>t.scaledHeight?(s=t.scaledWidth-32,l=Math.floor(s/o)):(l=t.scaledHeight-32,s=Math.floor(l*o));var c=Math.abs(Math.floor((r-l)/2)),u=Math.abs(Math.floor((a-s)/2));i.width=s,i.height=l,i.marginLeft=0===u?0:-u,i.marginTop=0===c?0:-c}return i},g=function(e){var t=e.item,n={width:t.viewportWidth,height:t.scaledHeight,overflow:"hidden"};return t.nano&&(n.background="url(".concat(t.nano,")"),n.backgroundSize="cover",n.backgroundPosition="center center"),t.isSelected&&(n.width=t.viewportWidth-32,n.height=t.scaledHeight-32,n.margin=u),n},f=function(e){return{pointerEvents:"none",opacity:e.hover?1:0,position:"absolute",height:"100%",width:"100%"}},h=function(e){return{margin:e.margin,WebkitUserSelect:"none",position:"relative",background:"#eee",padding:"0px"}},v=function(e){return{pointerEvents:"none",opacity:1,position:"absolute",height:"100%",width:"100%",background:e.showOverlay?"linear-gradient(to bottom,rgba(0,0,0,0.26),transparent 56px,transparent)":"none"}},w={pointerEvents:"none",opacity:1,position:"absolute",height:"36px",width:"100%"},y={background:"white",width:"100%",margin:0,userSelect:"text",WebkitUserSelect:"text",MozUserSelect:"text",overflow:"hidden"},b={padding:"2px",pointerEvents:"none",position:"absolute",minHeight:"0px",maxHeight:"160px",width:"100%",bottom:"0px",overflow:"hidden"},E={display:"inline-block",cursor:"pointer",pointerEvents:"visible",margin:"2px"},_=function(){return{display:"inline",padding:".2em .6em .3em",fontSize:"75%",fontWeight:"600",lineHeight:"1",color:"yellow",background:"rgba(0,0,0,0.65)",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:".25em"}},x=function(e){return{visibility:e.isVisible?"visible":"hidden",background:"none",float:"left",width:36,height:36,border:"none",padding:6,cursor:"pointer",pointerEvents:"visible"}},C=function(e){var n=e.isSelected,i=e.isVisible,r=e.onClick,a=e.selectedColor,s=e.hoverColor,c=e.color,d=t.useState(!1),u=d[0],p=d[1],m={display:n?"block":"none"},g=n?a:u?s:c;return l.exports.jsx("div",o({"data-testid":"grid-gallery-item_check-button",title:"Select",style:x({isVisible:i}),onClick:r,onMouseOver:function(){return p(!0)},onMouseOut:function(){return p(!1)}},{children:l.exports.jsxs("svg",o({fill:g,height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},{children:[l.exports.jsxs("radialGradient",o({id:"shadow",cx:"38",cy:"95.488",r:"10.488",gradientTransform:"matrix(1 0 0 -1 -26 109)",gradientUnits:"userSpaceOnUse"},{children:[l.exports.jsx("stop",{offset:".832",stopColor:"#010101"}),l.exports.jsx("stop",{offset:"1",stopColor:"#010101",stopOpacity:"0"})]})),l.exports.jsx("circle",{style:m,opacity:".26",fill:"url(#shadow)",cx:"12",cy:"13.512",r:"10.488"}),l.exports.jsx("circle",{style:m,fill:"#FFF",cx:"12",cy:"12.2",r:"8.292"}),l.exports.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),l.exports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]}))}))};C.defaultProps={isSelected:!1,isVisible:!0,color:"#FFFFFFB2",selectedColor:"#4285F4FF",hoverColor:"#FFFFFFFF"};var S=function(e){var n=e.item,i=e.thumbnailImageComponent,r={item:n},a=t.useState(!1),s=a[0],d=a[1],u={key:e.index,"data-testid":"grid-gallery-item_thumbnail",src:n.src,alt:n.alt?n.alt:"",title:"string"==typeof n.caption?n.caption:null,style:c(e.thumbnailStyle,m,r)};return l.exports.jsxs("div",o({className:"ReactGridGallery_tile","data-testid":"grid-gallery-item",onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},style:h({margin:e.margin})},{children:[l.exports.jsx("div",o({className:"ReactGridGallery_tile-icon-bar",style:w},{children:l.exports.jsx(C,{isSelected:n.isSelected,isVisible:n.isSelected||e.isSelectable&&s,onClick:function(t){e.isSelectable&&e.onSelect(e.index,t)}})})),!!n.tags&&l.exports.jsx("div",o({className:"ReactGridGallery_tile-bottom-bar",style:b},{children:n.tags.map((function(t,n){return l.exports.jsx("div",o({title:t.title,style:E},{children:l.exports.jsx("span",o({style:c(e.tagStyle,_,r)},{children:t.value}))}),t.key||n)}))})),!!n.customOverlay&&l.exports.jsx("div",o({className:"ReactGridGallery_custom-overlay",style:f({hover:s})},{children:n.customOverlay})),l.exports.jsx("div",{className:"ReactGridGallery_tile-overlay",style:v({showOverlay:s&&!n.isSelected&&e.isSelectable})}),l.exports.jsx("div",o({className:"ReactGridGallery_tile-viewport","data-testid":"grid-gallery-item_viewport",style:c(e.tileViewportStyle,g,r),onClick:function(t){e.onClick(e.index,t)}},{children:i?l.exports.jsx(i,o({},e,{imageProps:u})):l.exports.jsx("img",o({},u))})),n.thumbnailCaption&&l.exports.jsx("div",o({className:"ReactGridGallery_tile-description",style:y},{children:n.thumbnailCaption}))]}))};S.defaultProps={isSelectable:!0};var A={position:"absolute",top:0,left:0,height:"100%",width:"100%",pointerEvents:"none",zIndex:-1,opacity:0},k=function(e){var n=e.onResize,i=t.useRef(null),o=t.useRef(n);o.current=n;var r=t.useCallback((function(){o.current()}),[]),a=t.useCallback((function(){var e=i.current;e&&e.contentDocument&&e.contentDocument.defaultView&&e.contentDocument.defaultView.addEventListener("resize",r)}),[]);return t.useEffect((function(){return function(){var e=i.current;e&&e.contentDocument&&e.contentDocument.defaultView&&e.contentDocument.defaultView.removeEventListener("resize",r)}}),[]),l.exports.jsx("object",{onLoad:a,ref:i,tabIndex:-1,type:"text/html",data:"about:blank",title:"",style:A})},F=function(e,t){for(var n=t.containerWidth,i=t.rowHeight,a=[],l=2*t.margin,s=r([],e,!0),c=0;s.length>0&&c<n;){var d=s.shift(),u=Math.floor(i*(d.width/d.height)),p=o(o({},d),{scaledHeight:i,scaledWidth:u,viewportWidth:u,marginLeft:0});a.push(p),c+=p.scaledWidth+l}var m=c-n;if(a.length>0&&m>0){var g=function(e,t,n){var i=[],o=0;for(var r in e){var a=e[r].scaledWidth/t;i[r]=Math.floor(a*n),o+=i[r]}for(var l=n-o;l>0;)for(var r in i)if(i[r]++,--l<0)break;return i}(a,c,m);for(var f in a){var h=g[f];(d=a[f]).marginLeft=-Math.abs(Math.floor(h/2)),d.viewportWidth=d.scaledWidth-h}}return[a,s]},N=function(e,t,n){void 0===n&&(n=[]);var i=F(e,t),o=i[0],a=i[1],l=r(r([],n,!0),[o],!1);return t.maxRows&&l.length>=t.maxRows?l:a.length?N(a,t,l):l},T=function(e,t){var n=t.containerWidth,i=t.maxRows,o=t.rowHeight,r=t.margin;return e&&n?N(e,{containerWidth:n,maxRows:i,rowHeight:o=void 0===o?180:o,margin:r=void 0===r?2:r}):[]},B=function(e,t){var n=T(e,t);return[].concat.apply([],n)},L=function(e){var n=t.useRef(null),i=e.maxRows,r=e.rowHeight,a=e.margin,s=e.enableImageSelection,c=e.defaultContainerWidth,d=e.images,u=t.useState(c),m=u[0],g=u[1],f=t.useCallback((function(){if(n.current){var e=n.current.clientWidth;try{e=n.current.getBoundingClientRect().width}catch(e){}g(Math.floor(e))}}),[]);t.useEffect((function(){f()}),[]);var h=B(d,{containerWidth:m,maxRows:i,rowHeight:r,margin:a}),v=function(t,n){n.preventDefault(),e.onSelect(t,d[t],n)},w=function(t,n){e.onClick(t,d[t],n)};return l.exports.jsxs("div",o({id:e.id,className:"ReactGridGallery",ref:n},{children:[l.exports.jsx(k,{onResize:f}),l.exports.jsx("div",o({style:p},{children:h.map((function(t,n){return l.exports.jsx(S,{item:t,index:n,margin:a,height:r,isSelectable:s,onClick:w,onSelect:v,tagStyle:e.tagStyle,tileViewportStyle:e.tileViewportStyle,thumbnailStyle:e.thumbnailStyle,thumbnailImageComponent:e.thumbnailImageComponent},t.key||n)}))}))]}))};L.displayName="Gallery",L.defaultProps={id:"ReactGridGallery",enableImageSelection:!0,rowHeight:180,margin:2,defaultContainerWidth:0,onClick:function(){},onSelect:function(){}},e.CheckButton=C,e.Gallery=L,e.buildLayout=T,e.buildLayoutFlat=B,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(196))},196:function(e){"use strict";e.exports=window.React}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"name":"igd/shortcodes","version":"1.0.0","title":"Module Shortcodes","category":"igd-category","icon":"shortcode","description":"Insert pre-built module\'s shortcode","supports":{"html":false},"attributes":{"id":{"type":"number","default":0}},"keywords":["google drive","drive","shortcode","module","cloud","shortcode"],"textdomain":"igd","editorScript":"file:./index.js","editorStyle":"file:./index.css"}');const{PanelBody:i,PanelRow:o,SelectControl:r}=wp.components,{InspectorControls:a}=wp.blockEditor;function l(t){let{attributes:n,setAttributes:l,options:s}=t;const{id:c}=n;return(0,e.createElement)(a,null,(0,e.createElement)(i,{title:"Settings",icon:"dashicons-shortcode",initialOpen:!0},(0,e.createElement)(o,null,(0,e.createElement)(r,{label:"Select shortcode: ",options:s,value:c,onChange:e=>{l({id:parseInt(e)})},help:"Select a module shortcode to insert the module."}))))}var s=n(196),c=n.n(s),d=n(980),u=n.n(d),p="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),m=new Uint8Array(16);function g(){if(!p)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(m)}for(var f=[],h=0;h<256;++h)f[h]=(h+256).toString(16).substr(1);var v=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||g)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var r=0;r<16;++r)t[i+r]=o[r];return t||function(e,t){var n=t||0,i=f;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}(o)};function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},E.apply(this,arguments)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}var A={HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"},k=function(e,t){var n;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)},F=function(e,t){var n=this.state.show,i=this.props.id,o=this.isCapture(t.currentTarget),r=t.currentTarget.getAttribute("currentItem");o||t.stopPropagation(),n&&"true"===r?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),N(t.currentTarget,this.getTargetArray(i)),this.showTooltip(t))},N=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},T={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:b({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}},B=function(e,t,n){var i=t.respectEffect,o=void 0!==i&&i,r=t.customEvent,a=void 0!==r&&r,l=this.props.id,s=n.target.getAttribute("data-tip")||null,c=n.target.getAttribute("data-for")||null,d=n.target;if(!this.isCustomEvent(d)||a){var u=null==l&&null==c||c===l;if(null!=s&&(!o||"float"===this.getEffect(d))&&u){var p=function(e){var t={};for(var n in e)"function"==typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);p.currentTarget=d,e(p)}}},L=function(e,t){var n={};return e.forEach((function(e){var i=e.getAttribute(t);i&&i.split(" ").forEach((function(e){return n[e]=!0}))})),n},O=function(){return document.getElementsByTagName("body")[0]};function P(e,t,n,i,o,r,a){for(var l=R(n),s=l.width,c=l.height,d=R(t),u=d.width,p=d.height,m=U(e,t,r),g=m.mouseX,f=m.mouseY,h=I(r,u,p,s,c),v=j(a),w=v.extraOffsetX,y=v.extraOffsetY,b=window.innerWidth,E=window.innerHeight,_=D(n),x=_.parentTop,C=_.parentLeft,S=function(e){var t=h[e].l;return g+t+w},A=function(e){var t=h[e].t;return f+t+y},k=function(e){return function(e){return S(e)<0}(e)||function(e){return function(e){var t=h[e].r;return g+t+w}(e)>b}(e)||function(e){return A(e)<0}(e)||function(e){return function(e){var t=h[e].b;return f+t+y}(e)>E}(e)},F=function(e){return!k(e)},N=["top","bottom","left","right"],T=[],B=0;B<4;B++){var L=N[B];F(L)&&T.push(L)}var O,P=!1,M=o!==i;return F(o)&&M?(P=!0,O=o):T.length>0&&k(o)&&k(i)&&(P=!0,O=T[0]),P?{isNewState:!0,newState:{place:O}}:{isNewState:!1,position:{left:parseInt(S(i)-C,10),top:parseInt(A(i)-x,10)}}}var R=function(e){var t=e.getBoundingClientRect(),n=t.height,i=t.width;return{height:parseInt(n,10),width:parseInt(i,10)}},U=function(e,t,n){var i=t.getBoundingClientRect(),o=i.top,r=i.left,a=R(t),l=a.width,s=a.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:r+l/2,mouseY:o+s/2}},I=function(e,t,n,i,o){var r,a,l,s;return"float"===e?(r={l:-i/2,r:i/2,t:-(o+3+2),b:-3},l={l:-i/2,r:i/2,t:15,b:o+3+2+12},s={l:-(i+3+2),r:-3,t:-o/2,b:o/2},a={l:3,r:i+3+2,t:-o/2,b:o/2}):"solid"===e&&(r={l:-i/2,r:i/2,t:-(n/2+o+2),b:-n/2},l={l:-i/2,r:i/2,t:n/2,b:n/2+o+2},s={l:-(i+t/2+2),r:-t/2,t:-o/2,b:o/2},a={l:t/2,r:i+t/2+2,t:-o/2,b:o/2}),{top:r,bottom:l,left:s,right:a}},j=function(e){var t=0,n=0;for(var i in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===i?n-=parseInt(e[i],10):"bottom"===i?n+=parseInt(e[i],10):"left"===i?t-=parseInt(e[i],10):"right"===i&&(t+=parseInt(e[i],10));return{extraOffsetX:t,extraOffsetY:n}},D=function(e){for(var t=e;t;){var n=window.getComputedStyle(t);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;t=t.parentElement}return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function M(e,t,n,i){if(t)return t;if(null!=n)return n;if(null===n)return null;var o=/<br\s*\/?>/;return i&&"false"!==i&&o.test(e)?e.split(o).map((function(e,t){return c().createElement("span",{key:t,className:"multi-line"},e)})):e}function $(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function z(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}var H={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};var K="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function W(e,t){return e(t={exports:{}},t.exports),t.exports}var Q=function(e){return e&&e.Math==Math&&e},V=Q("object"==typeof globalThis&&globalThis)||Q("object"==typeof window&&window)||Q("object"==typeof self&&self)||Q("object"==typeof K&&K)||function(){return this}()||Function("return this")(),G=function(e){try{return!!e()}catch(e){return!0}},q=!G((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Y={}.propertyIsEnumerable,J=Object.getOwnPropertyDescriptor,X={f:J&&!Y.call({1:2},1)?function(e){var t=J(this,e);return!!t&&t.enumerable}:Y},Z=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ee={}.toString,te=function(e){return ee.call(e).slice(8,-1)},ne="".split,ie=G((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==te(e)?ne.call(e,""):Object(e)}:Object,oe=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},re=function(e){return ie(oe(e))},ae=function(e){return"object"==typeof e?null!==e:"function"==typeof e},le=function(e,t){if(!ae(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!ae(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!ae(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!ae(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},se=function(e){return Object(oe(e))},ce={}.hasOwnProperty,de=function(e,t){return ce.call(se(e),t)},ue=V.document,pe=ae(ue)&&ae(ue.createElement),me=function(e){return pe?ue.createElement(e):{}},ge=!q&&!G((function(){return 7!=Object.defineProperty(me("div"),"a",{get:function(){return 7}}).a})),fe=Object.getOwnPropertyDescriptor,he={f:q?fe:function(e,t){if(e=re(e),t=le(t,!0),ge)try{return fe(e,t)}catch(e){}if(de(e,t))return Z(!X.f.call(e,t),e[t])}},ve=function(e){if(!ae(e))throw TypeError(String(e)+" is not an object");return e},we=Object.defineProperty,ye={f:q?we:function(e,t,n){if(ve(e),t=le(t,!0),ve(n),ge)try{return we(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},be=q?function(e,t,n){return ye.f(e,t,Z(1,n))}:function(e,t,n){return e[t]=n,e},Ee=function(e,t){try{be(V,e,t)}catch(n){V[e]=t}return t},_e="__core-js_shared__",xe=V[_e]||Ee(_e,{}),Ce=Function.toString;"function"!=typeof xe.inspectSource&&(xe.inspectSource=function(e){return Ce.call(e)});var Se,Ae,ke,Fe=xe.inspectSource,Ne=V.WeakMap,Te="function"==typeof Ne&&/native code/.test(Fe(Ne)),Be=W((function(e){(e.exports=function(e,t){return xe[e]||(xe[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),Le=0,Oe=Math.random(),Pe=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Le+Oe).toString(36)},Re=Be("keys"),Ue=function(e){return Re[e]||(Re[e]=Pe(e))},Ie={},je="Object already initialized",De=V.WeakMap;if(Te||xe.state){var Me=xe.state||(xe.state=new De),$e=Me.get,ze=Me.has,He=Me.set;Se=function(e,t){if(ze.call(Me,e))throw new TypeError(je);return t.facade=e,He.call(Me,e,t),t},Ae=function(e){return $e.call(Me,e)||{}},ke=function(e){return ze.call(Me,e)}}else{var Ke=Ue("state");Ie[Ke]=!0,Se=function(e,t){if(de(e,Ke))throw new TypeError(je);return t.facade=e,be(e,Ke,t),t},Ae=function(e){return de(e,Ke)?e[Ke]:{}},ke=function(e){return de(e,Ke)}}var We,Qe,Ve={set:Se,get:Ae,has:ke,enforce:function(e){return ke(e)?Ae(e):Se(e,{})},getterFor:function(e){return function(t){var n;if(!ae(t)||(n=Ae(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ge=W((function(e){var t=Ve.get,n=Ve.enforce,i=String(String).split("String");(e.exports=function(e,t,o,r){var a,l=!!r&&!!r.unsafe,s=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof o&&("string"!=typeof t||de(o,"name")||be(o,"name",t),(a=n(o)).source||(a.source=i.join("string"==typeof t?t:""))),e!==V?(l?!c&&e[t]&&(s=!0):delete e[t],s?e[t]=o:be(e,t,o)):s?e[t]=o:Ee(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Fe(this)}))})),qe=V,Ye=function(e){return"function"==typeof e?e:void 0},Je=function(e,t){return arguments.length<2?Ye(qe[e])||Ye(V[e]):qe[e]&&qe[e][t]||V[e]&&V[e][t]},Xe=Math.ceil,Ze=Math.floor,et=function(e){return isNaN(e=+e)?0:(e>0?Ze:Xe)(e)},tt=Math.min,nt=function(e){return e>0?tt(et(e),9007199254740991):0},it=Math.max,ot=Math.min,rt=function(e){return function(t,n,i){var o,r=re(t),a=nt(r.length),l=function(e,t){var n=et(e);return n<0?it(n+t,0):ot(n,t)}(i,a);if(e&&n!=n){for(;a>l;)if((o=r[l++])!=o)return!0}else for(;a>l;l++)if((e||l in r)&&r[l]===n)return e||l||0;return!e&&-1}},at=(rt(!0),rt(!1)),lt=function(e,t){var n,i=re(e),o=0,r=[];for(n in i)!de(Ie,n)&&de(i,n)&&r.push(n);for(;t.length>o;)de(i,n=t[o++])&&(~at(r,n)||r.push(n));return r},st=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ct=st.concat("length","prototype"),dt={f:Object.getOwnPropertyNames||function(e){return lt(e,ct)}},ut={f:Object.getOwnPropertySymbols},pt=Je("Reflect","ownKeys")||function(e){var t=dt.f(ve(e)),n=ut.f;return n?t.concat(n(e)):t},mt=function(e,t){for(var n=pt(t),i=ye.f,o=he.f,r=0;r<n.length;r++){var a=n[r];de(e,a)||i(e,a,o(t,a))}},gt=/#|\.prototype\./,ft=function(e,t){var n=vt[ht(e)];return n==yt||n!=wt&&("function"==typeof t?G(t):!!t)},ht=ft.normalize=function(e){return String(e).replace(gt,".").toLowerCase()},vt=ft.data={},wt=ft.NATIVE="N",yt=ft.POLYFILL="P",bt=ft,Et=he.f,_t=Array.isArray||function(e){return"Array"==te(e)},xt=Je("navigator","userAgent")||"",Ct=V.process,St=Ct&&Ct.versions,At=St&&St.v8;At?Qe=(We=At.split("."))[0]<4?1:We[0]+We[1]:xt&&(!(We=xt.match(/Edge\/(\d+)/))||We[1]>=74)&&(We=xt.match(/Chrome\/(\d+)/))&&(Qe=We[1]);var kt,Ft=Qe&&+Qe,Nt=!!Object.getOwnPropertySymbols&&!G((function(){return!String(Symbol())||!Symbol.sham&&Ft&&Ft<41})),Tt=Nt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Bt=Be("wks"),Lt=V.Symbol,Ot=Tt?Lt:Lt&&Lt.withoutSetter||Pe,Pt=function(e){return de(Bt,e)&&(Nt||"string"==typeof Bt[e])||(Nt&&de(Lt,e)?Bt[e]=Lt[e]:Bt[e]=Ot("Symbol."+e)),Bt[e]},Rt=Pt("species"),Ut=function(e,t){var n;return _t(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!_t(n.prototype)?ae(n)&&null===(n=n[Rt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},It=[].push,jt=function(e){var t=1==e,n=2==e,i=3==e,o=4==e,r=6==e,a=7==e,l=5==e||r;return function(s,c,d,u){for(var p,m,g=se(s),f=ie(g),h=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function")}(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}(c,d,3),v=nt(f.length),w=0,y=u||Ut,b=t?y(s,v):n||a?y(s,0):void 0;v>w;w++)if((l||w in f)&&(m=h(p=f[w],w,g),e))if(t)b[w]=m;else if(m)switch(e){case 3:return!0;case 5:return p;case 6:return w;case 2:It.call(b,p)}else switch(e){case 4:return!1;case 7:It.call(b,p)}return r?-1:i||o?o:b}},Dt={forEach:jt(0),map:jt(1),filter:jt(2),some:jt(3),every:jt(4),find:jt(5),findIndex:jt(6),filterOut:jt(7)},Mt=Object.keys||function(e){return lt(e,st)},$t=q?Object.defineProperties:function(e,t){ve(e);for(var n,i=Mt(t),o=i.length,r=0;o>r;)ye.f(e,n=i[r++],t[n]);return e},zt=Je("document","documentElement"),Ht="prototype",Kt="script",Wt=Ue("IE_PROTO"),Qt=function(){},Vt=function(e){return"<"+Kt+">"+e+"</"+Kt+">"},Gt=function(){try{kt=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,n;Gt=kt?function(e){e.write(Vt("")),e.close();var t=e.parentWindow.Object;return e=null,t}(kt):(t=me("iframe"),n="java"+Kt+":",t.style.display="none",zt.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(Vt("document.F=Object")),e.close(),e.F);for(var i=st.length;i--;)delete Gt[Ht][st[i]];return Gt()};Ie[Wt]=!0;var qt=Object.create||function(e,t){var n;return null!==e?(Qt[Ht]=ve(e),n=new Qt,Qt[Ht]=null,n[Wt]=e):n=Gt(),void 0===t?n:$t(n,t)},Yt=Pt("unscopables"),Jt=Array.prototype;null==Jt[Yt]&&ye.f(Jt,Yt,{configurable:!0,value:qt(null)});var Xt,Zt,en,tn,nn=Dt.find,on="find",rn=!0;on in[]&&Array(1)[on]((function(){rn=!1})),function(e,t){var n,i,o,r,a,l=e.target,s=e.global,c=e.stat;if(n=s?V:c?V[l]||Ee(l,{}):(V[l]||{}).prototype)for(i in t){if(r=t[i],o=e.noTargetGet?(a=Et(n,i))&&a.value:n[i],!bt(s?i:l+(c?".":"#")+i,e.forced)&&void 0!==o){if(typeof r==typeof o)continue;mt(r,o)}(e.sham||o&&o.sham)&&be(r,"sham",!0),Ge(n,i,r,e)}}({target:"Array",proto:!0,forced:rn},{find:function(e){return nn(this,e,arguments.length>1?arguments[1]:void 0)}}),Xt=on,Jt[Yt][Xt]=!0;var an,ln=function(e){e.hide=function(e){k(A.HIDE,{target:e})},e.rebuild=function(){k(A.REBUILD)},e.show=function(e){k(A.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(Zt=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(A.HIDE,this.globalHide),window.addEventListener(A.HIDE,this.globalHide,!1),window.removeEventListener(A.REBUILD,this.globalRebuild),window.addEventListener(A.REBUILD,this.globalRebuild,!1),window.removeEventListener(A.SHOW,this.globalShow),window.addEventListener(A.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(A.HIDE,this.globalHide),window.removeEventListener(A.REBUILD,this.globalRebuild),window.removeEventListener(A.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(Zt=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,i=n.event,o=n.eventOff,r=e.getAttribute("data-event")||i,a=e.getAttribute("data-event-off")||o;r.split(" ").forEach((function(n){e.removeEventListener(n,T.get(e,n));var i=F.bind(t,a);T.set(e,n,i),e.addEventListener(n,i,!1)})),a&&a.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,i=t.eventOff,o=n||e.getAttribute("data-event"),r=i||e.getAttribute("data-event-off");e.removeEventListener(o,T.get(e,n)),r&&e.removeEventListener(r,this.hideTooltip)}}(Zt=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(Zt=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(Zt=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,i=n.event,o=n.eventOff,r=n.possibleCustomEvents,a=n.possibleCustomEventsOff,l=O(),s=L(e,"data-event"),c=L(e,"data-event-off");null!=i&&(s[i]=!0),null!=o&&(c[o]=!0),r.split(" ").forEach((function(e){return s[e]=!0})),a.split(" ").forEach((function(e){return c[e]=!0})),this.unbindBodyListener(l);var d=this.bodyModeListeners={};for(var u in null==i&&(d.mouseover=B.bind(this,this.showTooltip,{}),d.mousemove=B.bind(this,this.updateTooltip,{respectEffect:!0}),d.mouseout=B.bind(this,this.hideTooltip,{})),s)d[u]=B.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||o;F.call(t,n,e)}),{customEvent:!0});for(var p in c)d[p]=B.bind(this,this.hideTooltip,{customEvent:!0});for(var m in d)l.addEventListener(m,d[m])},e.prototype.unbindBodyListener=function(e){e=e||O();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((tn=en=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,C(t).call(this,e))).state={uuid:e.uuid||"t"+v(),place:e.place||"top",desiredPlace:e.place||"top",type:"dark",effect:"float",show:!1,border:!1,customColors:{},offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:$(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.delayReshow=null,n.intervalUpdateContent=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),y(t,null,[{key:"propTypes",get:function(){return{uuid:u().string,children:u().any,place:u().string,type:u().string,effect:u().string,offset:u().object,multiline:u().bool,border:u().bool,textColor:u().string,backgroundColor:u().string,borderColor:u().string,arrowColor:u().string,insecure:u().bool,class:u().string,className:u().string,id:u().string,html:u().bool,delayHide:u().number,delayUpdate:u().number,delayShow:u().number,event:u().string,eventOff:u().string,isCapture:u().bool,globalEventOff:u().string,getContent:u().any,afterShow:u().func,afterHide:u().func,overridePosition:u().func,disable:u().bool,scrollHide:u().bool,resizeHide:u().bool,wrapper:u().string,bodyMode:u().bool,possibleCustomEvents:u().string,possibleCustomEventsOff:u().string,clickable:u().bool}}}]),y(t,[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props,t=(e.insecure,e.resizeHide);this.bindListener(),this.bindWindowEvents(t),this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var e=this.tooltipRef;if(e){for(var t,n=e.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:t=n.head;break;default:t=n}if(!t.querySelector("style[data-react-tooltip]")){var i=document.createElement("style");i.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  padding: 8px 21px;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  bottom: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-bottom::before {\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  top: -8px;\n  left: 50%;\n  margin-left: -10px;\n}\n.__react_component_tooltip.place-left::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  right: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip.place-right::before {\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  left: -8px;\n  top: 50%;\n  margin-top: -5px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',i.setAttribute("data-react-tooltip","true"),t.appendChild(i)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var i=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(i,'"]')}else t="[data-tip]:not([data-for])";return z(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(z(e.shadowRoot.querySelectorAll(t)))})),n.concat(z(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,i=t.globalEventOff,o=t.isCapture,r=this.getTargetArray(n);r.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(r):r.forEach((function(t){var n=e.isCapture(t),i=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),t.addEventListener("focus",e.showTooltip,n),"float"===i&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n),t.addEventListener("blur",e.hideTooltip,n))})),i&&(window.removeEventListener(i,this.hideTooltip),window.addEventListener(i,this.hideTooltip,o)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,i=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),i&&window.removeEventListener(i,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,i=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),M(this.state.originTooltip,i,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"==typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,i=n.multiline,o=n.getContent,r=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||i||!1,l=e instanceof window.FocusEvent||t,s=!0;e.currentTarget.getAttribute("data-scroll-hide")?s="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(s=this.props.scrollHide),e&&e.currentTarget&&e.currentTarget.setAttribute&&e.currentTarget.setAttribute("aria-describedby",this.state.uuid);var c=e.currentTarget.getAttribute("data-place")||this.props.place||"top",d=l?"solid":this.getEffect(e.currentTarget),u=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},p=P(e,e.currentTarget,this.tooltipRef,c,c,d,u);p.position&&this.props.overridePosition&&(p.position=this.props.overridePosition(p.position,e,e.currentTarget,this.tooltipRef,c,c,d,u));var m=p.isNewState?p.newState.place:c;this.clearTimer();var g=e.currentTarget,f=this.state.show?g.getAttribute("data-delay-update")||this.props.delayUpdate:0,h=this,v=function(){h.setState({originTooltip:r,isMultiline:a,desiredPlace:c,place:m,type:g.getAttribute("data-type")||h.props.type||"dark",customColors:{text:g.getAttribute("data-text-color")||h.props.textColor||null,background:g.getAttribute("data-background-color")||h.props.backgroundColor||null,border:g.getAttribute("data-border-color")||h.props.borderColor||null,arrow:g.getAttribute("data-arrow-color")||h.props.arrowColor||null},effect:d,offset:u,html:(g.getAttribute("data-html")?"true"===g.getAttribute("data-html"):h.props.html)||!1,delayShow:g.getAttribute("data-delay-show")||h.props.delayShow||0,delayHide:g.getAttribute("data-delay-hide")||h.props.delayHide||0,delayUpdate:g.getAttribute("data-delay-update")||h.props.delayUpdate||0,border:(g.getAttribute("data-border")?"true"===g.getAttribute("data-border"):h.props.border)||!1,extraClass:g.getAttribute("data-class")||h.props.class||h.props.className||"",disable:(g.getAttribute("data-tip-disable")?"true"===g.getAttribute("data-tip-disable"):h.props.disable)||!1,currentTarget:g},(function(){s&&h.addScrollListener(h.state.currentTarget),h.updateTooltip(e),o&&Array.isArray(o)&&(h.intervalUpdateContent=setInterval((function(){if(h.mount){var e=h.props.getContent,t=M(r,"",e[0](),a),n=h.isEmptyTip(t);h.setState({isEmptyTip:n}),h.updatePosition()}}),o[1]))}))};f?this.delayReshow=setTimeout(v,f):v()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,i=n.delayShow,o=n.disable,r=this.props.afterShow,a=this.getTooltipContent(),l=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!this.isEmptyTip(a)&&!o){var s=this.state.show?0:parseInt(i,10),c=function(){if(Array.isArray(a)&&a.length>0||a){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:l,show:!0},(function(){t.updatePosition(),n&&r&&r(e)}))}};clearTimeout(this.delayShowLoop),s?this.delayShowLoop=setTimeout(c,s):c()}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},o=this.state.disable,r=i.isScroll?0:this.state.delayHide,a=this.props.afterHide,l=this.getTooltipContent();if(this.mount&&!this.isEmptyTip(l)&&!o){if(t&&(!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget}))||!this.state.show))return;e&&e.currentTarget&&e.currentTarget.removeAttribute&&e.currentTarget.removeAttribute("aria-describedby");var s=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&a&&a(e)})))};this.clearTimer(),r?this.delayHideLoop=setTimeout(s,parseInt(r,10)):s()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,i=t.currentTarget,o=t.place,r=t.desiredPlace,a=t.effect,l=t.offset,s=this.tooltipRef,c=P(n,i,s,o,r,a,l);if(c.position&&this.props.overridePosition&&(c.position=this.props.overridePosition(c.position,n,i,s,o,r,a,l)),c.isNewState)return this.setState(c.newState,(function(){e.updatePosition()}));s.style.left=c.position.left+"px",s.style.top=c.position.top+"px"}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearTimeout(this.delayReshow),clearInterval(this.intervalUpdateContent)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,n=this.state,i=n.extraClass,o=n.html,r=n.ariaProps,a=n.disable,l=n.uuid,s=this.getTooltipContent(),d=this.isEmptyTip(s),u=function(e,t,n,i){return function(e,t){var n=t.text,i=t.background,o=t.border,r=t.arrow;return"\n  \t.".concat(e," {\n\t    color: ").concat(n,";\n\t    background: ").concat(i,";\n\t    border: 1px solid ").concat(o,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,".place-top::before {\n        border-top: 8px solid ").concat(o,";\n    }\n    .").concat(e,".place-top::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-top-color: ").concat(r,";\n        border-top-style: solid;\n        border-top-width: 6px;\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,".place-bottom::before {\n        border-bottom: 8px solid ").concat(o,";\n    }\n    .").concat(e,".place-bottom::after {\n        border-left: 8px solid transparent;\n        border-right: 8px solid transparent;\n        top: -6px;\n        left: 50%;\n        margin-left: -8px;\n        border-bottom-color: ").concat(r,";\n        border-bottom-style: solid;\n        border-bottom-width: 6px;\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,".place-left::before {\n        border-left: 8px solid ").concat(o,";\n    }\n    .").concat(e,".place-left::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        right: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-left-color: ").concat(r,";\n        border-left-style: solid;\n        border-left-width: 6px;\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,".place-right::before {\n        border-right: 8px solid ").concat(o,";\n    }\n    .").concat(e,".place-right::after {\n        border-top: 5px solid transparent;\n        border-bottom: 5px solid transparent;\n        left: -6px;\n        top: 50%;\n        margin-top: -4px;\n        border-right-color: ").concat(r,";\n        border-right-style: solid;\n        border-right-width: 6px;\n    }\n  ")}(e,function(e,t,n){var i=e.text,o=e.background,r=e.border,a=e.arrow?e.arrow:e.background,l=function(e){return H[e]?x({},H[e]):void 0}(t);return i&&(l.text=i),o&&(l.background=o),n&&(l.border=r||("light"===t?"black":"white")),a&&(l.arrow=a),l}(t,n,i))}(this.state.uuid,this.state.customColors,this.state.type,this.state.border),p="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||a||d?"":" show")+(this.state.border?" border":"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),m=this.props.wrapper;t.supportedWrappers.indexOf(m)<0&&(m=t.defaultProps.wrapper);var g=[p,i].filter(Boolean).join(" ");if(o){var f="".concat(s,'\n<style aria-hidden="true">').concat(u,"</style>");return c().createElement(m,E({className:"".concat(g),id:this.props.id||l,ref:function(t){return e.tooltipRef=t}},r,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:f}}))}return c().createElement(m,E({className:"".concat(g),id:this.props.id||l},r,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),c().createElement("style",{dangerouslySetInnerHTML:{__html:u},"aria-hidden":"true"}),s)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,i=$(e);return Object.keys(i).some((function(e){return i[e]!==n[e]}))?x({},t,{ariaProps:i}):null}}]),t}(c().Component),b(en,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),b(en,"supportedWrappers",["div","span"]),b(en,"displayName","ReactTooltip"),(an=Zt=tn).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var i=t[n],o=0;o<i.removedNodes.length;o++)if(i.removedNodes[o]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},Zt=void(an.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||Zt))||Zt)||Zt)||Zt)||Zt)||Zt)||Zt,sn=ln;const cn=wp.element.createContext();var dn=cn;const un=cn.Provider;function pn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={text:{"application/vnd.oasis.opendocument.text":"Text","text/plain":"Text"},file:{"text/html":"HTML","text/php":"PHP","x-httpd-php":"PHP","text/css":"CSS","text/js":"JavaScript","application/javascript":"JavaScript","application/json":"JSON","application/xml":"XML","application/x-shockwave-flash":"SWF","video/x-flv":"FLV","application/vnd.google-apps.file":"File"},image:{"application/vnd.google-apps.photo":"Photo","image/png":"PNG","image/jpeg":"JPEG","image/jpg":"JPG","image/gif":"GIF","image/bmp":"BMP","image/vnd.microsoft.icon":"ICO","image/tiff":"TIFF","image/tif":"TIF","image/svg+xml":"SVG"},zip:{"application/zip":"ZIP","application/x-rar-compressed":"RAR","application/x-msdownload":"EXE","application/vnd.ms-cab-compressed":"CAB"},audio:{"audio/mpeg":"MP3","video/quicktime":"QT","application/vnd.google-apps.audio":"Audio","audio/x-m4a":"Audio"},video:{"application/vnd.google-apps.video":"Video","video/x-flv":"Video","video/mp4":"Video","video/webm":"Video","video/ogg":"Video","application/x-mpegURL":"Video","video/MP2T":"Video","video/3gpp":"Video","video/quicktime":"Video","video/x-msvideo":"Video","video/x-ms-wmv":"Video"},pdf:{"application/pdf":"PDF"},word:{"application/msword":"MS Word"},doc:{"application/vnd.google-apps.document":"Google Docs"},excel:{"application/vnd.ms-excel":"Excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"Excel"},presentation:{"application/vnd.google-apps.presentation":"Slide","application/vnd.oasis.opendocument.presentation":"Presentation"},powerpoint:{"application/vnd.ms-powerpoint":"Powerpoint"},form:{"application/vnd.google-apps.form":"Form"},folder:{"application/vnd.google-apps.folder":"Folder"},drawing:{"application/vnd.google-apps.drawing":"Drawing"},script:{"application/vnd.google-apps.script":"Script"},sites:{"application/vnd.google-apps.sites":"Sites"},spreadsheet:{"application/vnd.google-apps.spreadsheet":"Spreadsheet","application/vnd.oasis.opendocument.spreadsheet":"Spreadsheet"}};let i="File",o="file";return Object.keys(n).map((r=>{t&&n[r][e]?o=r:n[r][e]&&(i=n[r][e])})),t?o:i}function mn(e){if(e<1)return 0;const t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(2)+" "+["Byte","KB","MB","GB","TB"][t]}function gn(e){return"application/vnd.google-apps.folder"===e}function fn(e){let t=pn(e,!0);return t=t||"file",`${igd.pluginUrl}/assets/images/icons/${t}.png`}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:igd.activeAccount;const n=t.root_id,i=t.id,o=[{accountId:i,id:n,name:wp.i18n.__("My Drive","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:`${igd.pluginUrl}/assets/images/my-drive.svg`},{accountId:i,id:"shared-drives",name:wp.i18n.__("Shared Drives","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:`${igd.pluginUrl}/assets/images/shared-drives.svg`},{accountId:i,id:"computers",name:wp.i18n.__("Computers","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:`${igd.pluginUrl}/assets/images/computers.svg`},{accountId:i,id:"shared",name:wp.i18n.__("Shared with me","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:`${igd.pluginUrl}/assets/images/shared.svg`},{accountId:i,id:"recent",name:wp.i18n.__("Recent","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:`${igd.pluginUrl}/assets/images/recent.svg`},{accountId:i,id:"starred",name:wp.i18n.__("Starred","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:`${igd.pluginUrl}/assets/images/starred.svg`}];return e?o.find((t=>t.id==e)):o}function vn(e,t){const{excludeAllExtensions:n,excludeExceptExtensions:i,excludeExtensions:o,excludeAllNames:r,excludeExceptNames:a,excludeNames:l,showFolders:s=!0,showFiles:c=!0}=e,{extension:d,name:u,isDir:p}=t;if(p&&!s)return!0;if(!p&&!c)return!0;if(!p)if(n){if(i&&!i.split(",").map((e=>e.trim())).includes(d))return!0}else if(o&&o.split(",").map((e=>e.trim())).includes(d))return!0;if(r){if(a&&!a.split(",").map((e=>e.trim())).includes(u))return!0}else if(l&&l.split(",").map((e=>e.trim())).includes(u))return!0;return!1}function wn(e){try{return e.getSource().relativePath.replace(/^\//,"")}catch(e){return console.log(e),""}}function yn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"thumbnail",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t=t||"thumbnail",`${igd.ajaxUrl}?action=igd_get_preview_thumbnail&id=${e}&size=${t}&accountId=${n}`}function bn(e){return!!e&&(xn(e)||En(e))}function En(e){return!!e&&["3gp","mp4","m4v","webm","ogv","flv","mov","avi","wmv","mkv","mpg","mpeg"].includes(e.toLowerCase())}function xn(e){return!!e&&["mp3","ogg","flac","m4a","wav","aac","wma"].includes(e.toLowerCase())}function Cn(e){return!!e&&["gif","jpg","jpeg","png","bmp","cr2","crw","raw","tif","tiff","webp","svg"].includes(e.toLowerCase())}function Sn(e){return hn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:igd.activeAccount)}function An(e){const t=Object.keys(e)[0],n=e[t];history.replaceState(history.state,null,function(e,t){const n=window.location.href,i=`${e}=`+t,o=n.match(/\?./);if(""===window.location.search)return`${n}${o?"&":"?"}${i}`;if(-1===window.location.search.indexOf(`${e}=`))return`${n}${o?"&":"?"}${i}`;const r=window.location.search.substring(1).split("&");for(let n=0;n<r.length;n++)if(r[n].indexOf(`${e}=`)>-1){r[n]=`${e}=`+t;break}return n.split("?")[0]+"?"+r.join("&")}(t,n))}function kn(e){const t={id:e.id,accountId:e.accountId,name:e.name};e.shortcutDetails&&(t.shortcutDetails=e.shortcutDetails),An({folder:Rn(JSON.stringify(t))})}function Fn(){const e=("folder",new URL(window.location.href).searchParams.get("folder"));if(!e)return"";if("all"===e)return"all";try{return JSON.parse(decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return console.log(e),null}}function Nn(e,t){const n=e[0].contentRect.width,i={1:320,2:480,3:768,4:992,5:1200,6:1520};for(let e in i){if(n>1520){t("igd-item-col-6");break}if(n<i[e]){t(`igd-item-col-${e}`);break}}}function Tn(e,t){e.onerror=null;const n="https://www.gravatar.com/avatar/"+t+"?s=200&d=mm";e.src===n?e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAyADIAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t6KMUtACZooxRQAUZpaSgAozRiloASijFGKADNFLRigBM0UUtACUUtJigAopaKAE5oopaAEo5paKAEoopaAE5opaKAEooooAWkoooAMUUUUAFFFFABRRRQAUUUUAGKKKKACiiigApaSigAooooAWkoooAKWkooAKKKKAClpKWgBKKKKACiiloASiiigAop8UTzyLHGrSOxwqqMkmvTPCnwpXYl1rJJY8i0Q8D/eP9B+dAHnVjpl3qcvl2ltLcv6RoWx9fSumsvhXr10AZI4bUH/AJ7Sc/kua9ltLO3sIRDbQxwRDokahR+QqagDyL/hTmp7f+P20z6Zb/CqV58KddtgTGkF0PSKTB/8exXtVFAHzff6Re6VJsvLWW2bt5ikA/Q96qV9LXNrDeRGKeJJ426pIoYH8DXnvir4UxTK9zox8qXqbVj8p/3T2+h/SgDyujFSTwSWszwzRtHKh2sjDBBqOgApaSigAoo7UUAFFFFAC0UlFABRRiigAooooAKKKKAClUFmAAJJ4AApK7r4V+GxqmqNqE6hoLQjaD/FIen5dfyoA634f+B00G2W9vEDajIMgN/yxB7D39fyrtKKSgApaKKACkopaACikxRQByXjzwTF4jtGubdAmpRD5WHHmD+6f6GvFJEeJ2R1KOpwVYYIPpX0zXkvxY8NLZXseqwKFiuDslAHR8dfxA/T3oA8+oxR0ooAKKMUYoAMUUUYoAKKMUUAFGaKM0AFFFFABR3oooAK978CaUNJ8L2MW3bJIgmf/ebn9BgfhXhFtF59zFGP43C/ma+lY0EaKi8KoAFADqKKKAEpaSloAKSlpKACloooASsjxdpY1nw5fW23LmMsn+8OR+orXpTyKAPmSlqzq1uLTVLyAcCKZ0GfZiKq0AFHNFFABS0mKKACiiigAoopaAEo60UUAFFFHegCxp8giv7Zz0SVSfzFfSdfMoPOa+ivD+oDVdEsbsHPmxKT7HHI/PNAGhSUtFABRRRQAlFLRQAlFGaWgBKKWqup3y6bp1zdv92GNnP4DNAHz74gkEuvalIOjXMpH4uaoU53MjszcliSTSUAJRS0lABRS0UAJiiiigAooxRQAUUUfpQAUUUUAFerfCLXlms59KlceZEfMhB7qeoH0PP415TirekapPouowXts22WJsj0I7g+xFAH0hSdqzvD+u2/iLTYry2PDDDoTyjdwa0aAClpOlFAC0lLSUALRSUv4UAJXBfFrXls9Jj02Jx51yQzgdRGP8Tj8jXYa1rFtoWnS3l022NBwO7HsB714Drusz6/qk97cH55DwoPCr2AoAodaKMUUAFFFFABRRRQAUUdaKACiiigAo6UUUAFFFFABiiiigDY8M+J7vwvfefbNujbiWFj8rj/AB969q8O+KrDxNbCS1l2ygfPA5w6fh3HvXkfhz4f6p4hCyiMWtqf+W8wxkf7I6n+XvXpnh74d6X4fkjnCvc3aciaQ4wfYDgfrQB1FFFLQAn50UtJQAtZWv8AiWw8N2pmu5sMR8kSnLv9B/WtWuY8R/D3TPEUjzsJLe7brNG2cn3B4/lQB5P4q8WXfiq88yb93bpnyoFPCj+p96w66bxH8P8AVPDwaUoLq0H/AC3hGcf7w6j+XvXMmgAooooAMUUGjNABRiiigAoozRQAUUUUAFFFFABRRUkEEl1OkMKNJK7BVRRkkntQAW9vLdzJDDG0srkKqKMkmvWPB3wyg00Jd6qq3F31WA8pH9fU/pWl4G8DxeGrYT3CrJqTj5n6iMf3V/qa6ygAAAAAHFHaiigA6UUUUALSUUtACUClpM0ABGRgjg1wPjH4ZQ6isl3pSrb3fVoOiSfT0P6V39FAHzRcW8tpO8M0bRSodrIwwQajr27xz4Hh8S2xnt1WPUox8r9BIP7rf0NeKzwSWs8kMyNHKjFWRhggjtQBHRRRQAUUUUAFFFFABRRRQAUUUdaACvWvhh4PFjbrq12n+kSr+4Vh9xD/ABfU/wAvrXF+AfDX/CR64gkUmzt8STeh9F/E/pmvdAAowOAOMUAKaSiloAKKTNHagApaSjNAC0lAooAMUtJmgUAFGMUUZ4oAWvPvif4PF9bPq9omLiEfv0UffQfxfUfy+legZoIDAg8g8YoA+ZaK6Xx94a/4RzW3Ea4s7jMkJ7D1X8D+mK5qgAooooAKKKKACiiigAoorZ8IaR/bniKytSu6Ivvk/wB0cn+WPxoA9c+HugjQ/DkO9dtzcDzpT9eg/AY/WumpOg7YooAXrSUtJQAUtJS0AJRRRQAuaKKSgBaKSloAKKSigBc0UUlAHNfELQRrvhyfYu64tx50R+nUfiM/jivCq+miOtfP3i/SP7D8RXtqBtjD74/91uR/PH4UAY1FFFABRRRQAUUUd6ACvSPg3p2+6v74j7irCp+pyf5D8683r2n4UWf2bwmsuMGeZ5Py+X/2WgDsqDQaKACij8KSgBaO1JS/hQAUUlFACikpfwooAM0Cij8KAEpe1FFABRRRQAV5Z8ZNO2XWn3yj76GFj9OR/M/lXqdcb8VrMXPhN5MZMEySD8fl/wDZqAPFqKKKACiiigAooooAK9+8DweR4R0tfWEP+fP9aKKAN2iiigApKKKACloooASloooAKSiigApaKKAEooooAXFJRRQAVh+OYPtHhLVF64hL/wDfPP8ASiigDwGiiigAooooA//Z":e.src=n}function Bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:64,r=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"").replace("/16/",`/${o}/`);return i&&(i.includes("google.com")?r=yn(t,e,n):"gallery"===e?r=i.replace("=s220","=h600-nu"):"large"===e?r=i.replace("=s220",""):"thumbnail"===e&&(r=i.replace("=s220","=w200-h190-p-k-nu"))),r}function Ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp.i18n.__("Upgrade to PRO to use this feature.","integrate-google-drive");Swal.fire({title:wp.i18n.__("Unlock PRO Features","integrate-google-drive"),html:`<h3 class="pro-offer">50% OFF</h3><p class="pro-text">${e}</p>`,iconHtml:`<img src="${igd.pluginUrl}/assets/images/offer.png" />`,showConfirmButton:!0,confirmButtonColor:"#2fb44b",confirmButtonText:wp.i18n.__("GET PRO","integrate-google-drive"),showCloseButton:!0,customClass:{container:"igd-pro-modal"}}).then((e=>{e.value&&(window.location.href=igd.upgradeUrl)}))}function On(){const[e,t]=wp.element.useState(!1);return wp.element.useEffect((()=>{t(!0)}),[]),e}function Pn(e,t,n,i){if(i&&!i.preview)return;if(i&&!1===i.inlinePreview){const e=n.find((e=>e.id===t));if(e&&e.webViewLink)return void window.open(e.webViewLink,"_blank")}const o=!i||!!i.download,r=!i||i.allowPreviewPopout,a=!!i&&i.comment,l=n.map((e=>{const{id:t,name:n,iconLink:r,thumbnailLink:l,extension:s,accountId:c,exportAs:d,exportLinks:u,webContentLink:p}=e,m=bn(s),g=Cn(s);let f="";if(o&&(u||p)){f=`${igd.ajaxUrl}?action=igd_download&id=${e.id}&accountId=${e.accountId}`;const t=Object.keys(d);t.length&&(f+=`&mimetype=${d[t[0]].mimetype}`)}const h={thumb:Bn("thumbnail",t,c,l,r),downloadUrl:f,subHtml:`<div class="item-name">\n                      <img src=${r.replace("/16/","/32/")}/>\n                      <span>${n}</span>\n                  </div>`};if(a){const e=`${window.location.protocol}//${window.location.host}${window.location.pathname}`;"disqus"===i.commentMethod?(h.disqusIdentifier=t,h.disqusUrl=`${e}?id=${t}`):h.fbHtml=`<div class="fb-comments" data-href="${e}?id=${t}" data-width="400" data-numposts="5"></div>`}return m?(h.poster=Bn("large",t,c,l,r,128),h.video=`{"source": [{"src":"${igd.ajaxUrl}?action=igd_stream&id=${e.id}&accountId=${e.accountId}", "type":"video/mp4"}], "attributes": {"preload": "auto","playsinline": true, "autoplay": true, "controls": true}}`):g?h.src=Bn("large",t,c,l,r):(h.iframe=!0,h.iframeTitle=n,h.src=`${igd.ajaxUrl}?action=igd_preview&file_id=${t}&account_id=${c}&popout=${!i||!!i.allowPreviewPopout}`),h})),s=()=>{document.body.style.overflow="hidden"},c=e=>{const t=document.querySelector(".lg-current");if(t){const i=e.detail.index;xn(n[i].extension)?t.classList.add("lg-has-audio"):t.classList.remove("lg-has-audio");const o=t.querySelector(".igd-hidepopout");r||o||t.insertAdjacentHTML("beforeend",'<div class="igd-hidepopout">&nbsp;</div>')}},d=()=>{document.body.style.overflow="",e.target.removeEventListener("lgBeforeOpen",s),e.target.removeEventListener("lgAfterClose",d),e.target.removeEventListener("lgSlideItemLoad",c)};window.dynamicGallery&&(e.target.removeEventListener("lgBeforeOpen",s),e.target.removeEventListener("lgAfterClose",d),e.target.removeEventListener("lgSlideItemLoad",c),window.dynamicGallery.destroy(!0));const u=window.innerWidth<768,p=[lgThumbnail,lgZoom,lgVideo];a&&p.push(lgComment),u||p.push(lgFullscreen);const m={dynamic:!0,dynamicEl:l,plugins:p,addClass:"igd-lightbox "+(o?"":"no-download"),counter:!1,appendSubHtmlTo:".lg-outer",autoplayVideoOnSlide:!0,preload:3,mobileSettings:{showCloseIcon:!0,thumbWidth:60,thumbHeight:60,download:!0,controls:!0}};a&&(m.commentBox=!0,"disqus"===i.commentMethod?m.disqusComments=!0:m.fbComments=!0),window.dynamicGallery=lightGallery(e.target,m),e.target.addEventListener("lgBeforeOpen",s),e.target.addEventListener("lgAfterClose",d),e.target.addEventListener("lgSlideItemLoad",c);const g=n.findIndex((e=>e.id===t));dynamicGallery.openGallery(g)}function Rn(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function Un(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:igd.activeAccount;return t.root_id!==e&&Sn(e,t)}const{useState:In,useRef:jn,useEffect:Dn,useContext:Mn}=wp.element;function $n(){const t=Mn(dn),{isSearch:n,searchFiles:i,setFiles:o,listFiles:r,activeFolder:a,setIsSearchResults:l,initFolders:s,searchKeyword:c,setSearchKeyword:d,initialSearchTerm:u}=t,p=jn(null),[m,g]=In(!1),[f,h]=In(n||u),v=e=>{if(e&&e.preventDefault(),g(!1),l(!1),!c)return Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Please enter a keyword to search","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2FB44B"}),void g(!0);i(c)},w=On();return Dn((()=>{if(w&&c)return p.current=setTimeout((()=>{v()}),1500),()=>{clearTimeout(p.current)}}),[c]),(0,e.createElement)("form",{className:`header-action-item igd-search-bar ${f?"active":""} ${m?"error":""}`,onSubmit:v},(!n||n&&!!c)&&(0,e.createElement)("div",{className:"search-dismiss",onClick:()=>{n||h(!f),d(""),g(!1),l(!1),!s||n?a&&"all"!==a?r(a):"all"===a&&o([]):o(s)}},(0,e.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M1.5 1.5L10.5 10.5M1.5 10.5L10.5 1.5L1.5 10.5Z",stroke:"#BABABA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,e.createElement)("input",{type:"text",placeholder:wp.i18n.__("Enter a keyword to search","integrate-google-drive"),value:c,onChange:e=>{d(e.target.value)}}),(0,e.createElement)("div",{className:"search-submit",onClick:()=>{f?v():(h(!0),document.querySelector(".igd-search-bar input").focus())}},(0,e.createElement)("svg",{"data-tip":wp.i18n.__("Search","integrate-google-drive"),"data-for":"search",width:"20",height:"20",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("circle",{cx:"9.7659",cy:"9.76639",r:"8.98856",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)("path",{d:"M16.0176 16.4849L19.5416 19.9997",stroke:"#3D3D3D",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),(0,e.createElement)(sn,{id:"search",place:"bottom",effect:"solid",className:"igd-tooltip"})))}const{useContext:zn}=wp.element;function Hn(){const t=zn(dn),{breadcrumbs:n,initFolders:i,setFiles:o,activeFolder:r,setActiveFolder:a,setActiveFile:l,setActiveRoot:s,listFiles:c,initParentFolder:d,show:u,isShortcodeBuilder:p,activeAccount:m}=t,g=!!n&&Object.keys(n),f=g.length>2?g[0]:"",h=g.length>3?g.slice(1,-2):[],v=g.length?g.slice(-2):[],w=e=>{e.preventDefault(),e.stopPropagation(),l(r),u(e)};return(0,e.createElement)("div",{className:"igd-breadcrumb"},(0,e.createElement)("div",{className:"breadcrumb-item",onClick:e=>{i?d?(a(d),c(d)):(a(""),o(i)):(o([]),a("all"),s("all"),c("all"))}},(0,e.createElement)("i",{className:"dashicons dashicons-admin-home"}),(0,e.createElement)("span",{className:""},wp.i18n.__("Home","integrate-google-drive"))),!!r&&"all"!==r&&(0,e.createElement)(e.Fragment,null,!!f&&(0,e.createElement)("div",{className:"breadcrumb-item "+(p||r.id!==f?"":"active"),onClick:e=>{r.id===f?w(e):c({id:f,name:n[f]})}},(0,e.createElement)("span",null,n[f])),!!h.length&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{"data-tip":!0,"data-for":"collapsed_breadcrumbs",className:"breadcrumb-item"},(0,e.createElement)("i",{className:"dashicons dashicons-ellipsis"}),(0,e.createElement)("i",{className:"dashicons dashicons-arrow-right-alt2"})),(0,e.createElement)(sn,{id:"collapsed_breadcrumbs",place:"bottom",type:"light",effect:"solid",event:"click",globalEventOff:"click",clickable:!0,className:"collapsed-breadcrumbs",getContent:()=>h.map((t=>(0,e.createElement)("div",{key:t,className:"collapsed-breadcrumbs-item",onClick:e=>{c({id:t,name:n[t]})}},(0,e.createElement)("span",null,n[t]))))})),v.map((t=>(0,e.createElement)("div",{key:t,className:"breadcrumb-item "+(Un(r.id,m)||p||r.id!==t?"":"active"),onClick:e=>{Un(r.id,m)||(r.id===t?w(e):c({id:t,name:n[t]}))}},(0,e.createElement)("span",null,n[t]))))))}const{useContext:Kn}=wp.element;function Wn(){const t=Kn(dn),{activeAccount:n,setActiveAccount:i,files:o,allFolders:r,getFiles:a,isShortcodeBuilder:l,initFolders:s,activeFolder:c,isSearch:d,setShowSidebar:u,sort:p,setSort:m,setActiveFile:g,permissions:f,showBreadcrumbs:h,setIsOptions:v,showRefresh:w,shortcodeBuilderType:y,isMobile:b,show:E}=t,_="gallery"===y,x=igd.isPro,C={name:wp.i18n.__("Name","integrate-google-drive"),size:wp.i18n.__("Size","integrate-google-drive"),created:wp.i18n.__("Created","integrate-google-drive"),updated:wp.i18n.__("Modified","integrate-google-drive")},S={asc:wp.i18n.__("Ascending","integrate-google-drive"),desc:wp.i18n.__("Descending","integrate-google-drive")};return(0,e.createElement)("div",{className:"igd-file-browser-header"},(!d||l)&&h&&(0,e.createElement)(Hn,null),(0,e.createElement)("div",{className:"header-action"},b&&!l&&igd.isAdmin&&(0,e.createElement)("i",{className:"dashicons dashicons-menu-alt3 header-action-item sidebar-toggle",onClick:()=>u((e=>!e))}),(!f||f.allowSearch||d)&&(0,e.createElement)($n,null),w&&(!d||l)&&c&&"all"!==c&&(0,e.createElement)("div",{"data-tip":wp.i18n.__("Refresh","integrate-google-drive"),"data-for":"sync",className:"header-action-item action-update",onClick:()=>{c&&a(c,!0)}},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/update.svg`,alt:"Sync Files"}),(0,e.createElement)(sn,{id:"sync",effect:"solid",place:"bottom",className:"igd-tooltip"})),(!d||l)&&c&&"all"!==c&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{"data-tip":wp.i18n.__("Sort","integrate-google-drive"),"data-for":"sort",className:"header-action-item action-sort"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/sort.svg`,alt:"Sort"}),(0,e.createElement)(sn,{id:"sort",effect:"solid",place:"bottom",className:"igd-tooltip"})),(0,e.createElement)(sn,{id:"sort",type:"light",event:"click",globalEventOff:"click",className:"igd-sort-modal",place:"bottom",border:!0,backgroundColor:"#fff",clickable:!0,borderColor:"#ddd",effect:"solid"},(0,e.createElement)("div",{className:"igd-sort-modal-inner"},(0,e.createElement)("div",{className:"igd-sort-modal-inner-section"},(0,e.createElement)("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT BY","integrate-google-drive")),Object.keys(C).map((t=>(0,e.createElement)("div",{key:t,className:"sort-item "+(p.sortBy===t?"active":""),onClick:()=>m({...p,sortBy:t})},(0,e.createElement)("i",{className:"dashicons dashicons-saved"}),(0,e.createElement)("span",null,C[t]))))),(0,e.createElement)("div",{className:"igd-sort-modal-inner-section"},(0,e.createElement)("span",{className:"igd-sort-modal-inner-section-title"},wp.i18n.__("SORT DIRECTION","integrate-google-drive")),Object.keys(S).map((t=>(0,e.createElement)("div",{key:t,className:"sort-item "+(p.sortDirection===t?"active":""),onClick:()=>m((e=>({...e,sortDirection:t})))},(0,e.createElement)("i",{className:"dashicons dashicons-saved"}),(0,e.createElement)("span",null,S[t])))))))),(!_||_&&!l&&!!f.download&&!!f.zipDownload)&&(!d||d&&!!o.length)&&(0,e.createElement)("div",{"data-tip":wp.i18n.__("Options","integrate-google-drive"),"data-for":"options",onClick:e=>{e.preventDefault(),g(null),v(!0),E(e)},className:"header-action-item action-options"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/options.svg`,alt:"Options"}),(0,e.createElement)(sn,{id:"options",effect:"solid",place:"bottom",className:"igd-tooltip"})),(!s||r)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"header-action-item action-accounts user-box","data-tip":!0,"data-for":"switch-account"},(0,e.createElement)("img",{referrerPolicy:"no-referrer",className:"user-image",src:n.photo,onError:e=>{let{currentTarget:t}=e;return Tn(t,n.email)}}),(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/arrow-down.svg`,className:"user-arrow"})),(0,e.createElement)(sn,{id:"switch-account",place:"bottom",type:"light",effect:"solid",event:"click",globalEventOff:"click",clickable:!0,border:!0,borderColor:"#ddd",resizeHide:!1,className:"user-box-modal-wrap igd-tooltip",overridePosition:(e,t,n,i)=>{let{left:o,top:r}=e;const a=document.documentElement;return o=Math.min(a.clientWidth-i.clientWidth,o),r=Math.min(a.clientHeight-i.clientHeight,r),{left:o,top:r}}},(0,e.createElement)("div",{className:"user-box-modal"},(0,e.createElement)("span",{className:"user-box-modal-title"},wp.i18n.__("Switch Account","integrate-google-drive")),Object.keys(igd.accounts).map((t=>{const{id:o,name:r,photo:a,email:l}=igd.accounts[t],s=n.id===o;return(0,e.createElement)("div",{key:t,className:"user-box-account "+(s?"active":""),onClick:()=>i(igd.accounts[t])},(0,e.createElement)("img",{referrerPolicy:"no-referrer",onError:e=>{let{currentTarget:t}=e;return Tn(t,l)},src:a}),(0,e.createElement)("div",{className:"account-info"},(0,e.createElement)("span",{className:"account-name"},r),(0,e.createElement)("span",{className:"account-email"},l)),s&&(0,e.createElement)("i",{className:"dashicons dashicons-saved active-badge"}))})),!l&&!s&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{"data-tip":"Multiple Accounts - PRO","data-for":"addAccountPromo",className:"igd-btn btn-primary",onClick:()=>{x||!igd.accounts?igd.authUrl?window.open(igd.authUrl,"newwindow","width=550,height=600"):window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings":Ln(wp.i18n.__("Upgrade to PRO to add multiple accounts.","integrate-google-drive"))}},(0,e.createElement)("i",{className:"dashicons dashicons-plus-alt"}),(0,e.createElement)("span",null,wp.i18n.__("Add account","integrate-google-drive"))),!x&&!!igd.accounts&&(0,e.createElement)(sn,{id:"addAccountPromo",effect:"solid",place:"right",backgroundColor:"#FDB837"})))))))}function Qn(t){let{file:n,isSelected:i,selectedFolders:o=[],setSelectedFolders:r}=t;return(0,e.createElement)("button",{className:"select-btn "+(i?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),r(i?[...o.filter((e=>e.id!=n.id))]:[...o,n])}},(0,e.createElement)("i",{className:"dashicons "+(i?"dashicons-no":"dashicons-plus-alt")}),(0,e.createElement)("span",null,i?wp.i18n.__("Remove","integrate-google-drive"):wp.i18n.__("Select","integrate-google-drive")))}const{useContext:Vn}=wp.element;function Gn(){const t=Vn(dn),{activeAccount:n,initFolders:i,activeFolder:o,setActiveRoot:r,selectedFolders:a,shortcodeBuilderType:l,listFiles:s,setSelectedFolders:c,isList:d,selectionType:u}=t,p="uploader"===l,m="embed"===l,g="view"===l,f="download"===l,h="slider"===l,v=n.root_id;let w=hn(!1,n);!i||1===i.length&&"all"===i[0]||(w=w.filter((e=>i.includes(e.key))));let y=l&&!g&&!f&&!m&&!h;return p?y=!a.length||a[0].id===v:"parent"===u&&(y=!0),w.map((t=>{const{id:n,name:i,iconLink:l}=t,u=a&&!!a.find((e=>e.id===n));return(0,e.createElement)("div",{key:n,className:(n===o.id?"active":"")+" file-item root-item folder-item",onClick:e=>{e.stopPropagation(),r(t),s(t)}},(0,e.createElement)("img",{src:l,alt:i}),(0,e.createElement)("span",null,i),y&&v===n&&(0,e.createElement)(Qn,{file:t,isSelected:u,selectedFolders:a,setSelectedFolders:c,isList:d}))}))}const{useRef:qn,useContext:Yn}=window.wp.element;function Jn(){const t=Yn(dn),{isShortcodeBuilder:n,activeAccount:i,activeFolder:o,setActiveFolder:r,isUpload:a,setIsUpload:l,isMobile:s,setShowSidebar:c}=t,{storage:d={}}=i,u=Math.round(100*d.usage/d.limit),p=!Sn(o.id,i)||i.root_id===o.id,m=qn(null);return(0,e.createElement)("div",{ref:m,className:"igd-sidebar-wrap"},(0,e.createElement)("div",{className:"igd-sidebar"},!n&&(0,e.createElement)("div",{className:"sidebar-uploader"},(0,e.createElement)("button",{id:"igd_upload_files",disabled:!p,className:(a?"active":p?"":"disabled")+" igd-btn",onClick:()=>{l((e=>!e)),s&&c(!1)}},(0,e.createElement)("i",{className:"dashicons dashicons-cloud-upload"}),(0,e.createElement)("span",null,wp.i18n.__("Upload Files","integrate-google-drive")))),(0,e.createElement)("div",{className:"sidebar-folders"},n&&(0,e.createElement)("div",{className:"all"===o?"disabled":"",onClick:()=>r("all")},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/drive.png`}),(0,e.createElement)("span",null,"Root")),(0,e.createElement)(Gn,null)),(0,e.createElement)("div",{className:"storage-info-wrap"},(0,e.createElement)("i",{className:"dashicons dashicons-database"}),(0,e.createElement)("div",{className:"storage-info"},(0,e.createElement)("div",{className:"storage-info-sidebar"},(0,e.createElement)("div",{style:{width:`${u}%`},className:"storage-info-fill "+(u>90?"fill-danger":"")})),(0,e.createElement)("span",null,mn(d.usage)," of ",mn(d.limit)," used")))))}function Xn(t){let{icon:n,size:i}=t;return{loader:(0,e.createElement)("svg",{width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},(0,e.createElement)("circle",{cx:"50",cy:"50",r:"46",fill:"transparent"}),(0,e.createElement)("polyline",{points:"25,55 45,70 75,33",fill:"transparent"})),addFile:(0,e.createElement)("svg",{width:i,height:i,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M842.24 355.413333l-232.106667-256a42.666667 42.666667 0 0 0-31.573333-14.08h-298.666667A107.946667 107.946667 0 0 0 170.666667 192v640A107.946667 107.946667 0 0 0 279.893333 938.666667h464.213334A107.946667 107.946667 0 0 0 853.333333 832V384a42.666667 42.666667 0 0 0-11.093333-28.586667zM597.333333 213.333333l116.906667 128h-85.333333a33.706667 33.706667 0 0 1-31.573334-36.266666z m146.773334 640H279.893333a22.613333 22.613333 0 0 1-23.893333-21.333333v-640a22.613333 22.613333 0 0 1 23.893333-21.333333H512v134.4A119.04 119.04 0 0 0 627.626667 426.666667H768v405.333333a22.613333 22.613333 0 0 1-23.893333 21.333333z",fill:"currentColor"}),(0,e.createElement)("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"})),addFolder:(0,e.createElement)("svg",{width:i,height:i,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M597.333333 554.666667h-42.666666v-42.666667a42.666667 42.666667 0 0 0-85.333334 0v42.666667h-42.666666a42.666667 42.666667 0 0 0 0 85.333333h42.666666v42.666667a42.666667 42.666667 0 0 0 85.333334 0v-42.666667h42.666666a42.666667 42.666667 0 0 0 0-85.333333z",fill:"currentColor"}),(0,e.createElement)("path",{d:"M832 300.8h-298.666667L421.12 165.12a42.666667 42.666667 0 0 0-32.853333-15.786667H192A105.386667 105.386667 0 0 0 85.333333 253.013333v517.973334a105.386667 105.386667 0 0 0 106.666667 103.68h640a105.386667 105.386667 0 0 0 106.666667-103.68V404.48a105.386667 105.386667 0 0 0-106.666667-103.68z m21.333333 469.333333a19.626667 19.626667 0 0 1-21.333333 18.346667h-640a19.626667 19.626667 0 0 1-21.333333-18.346667V253.013333a19.626667 19.626667 0 0 1 21.333333-18.346666h176.213333l110.933334 135.68a42.666667 42.666667 0 0 0 32.853333 15.786666h320a19.626667 19.626667 0 0 1 21.333333 18.346667z",fill:"currentColor"})),warning:(0,e.createElement)("svg",{width:i,height:i,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"red"},(0,e.createElement)("path",{d:"M22.56 16.3L14.89 3.58a3.43 3.43 0 0 0-5.78 0L1.44 16.3a3 3 0 0 0-.05 3A3.37 3.37 0 0 0 4.33 21h15.34a3.37 3.37 0 0 0 2.94-1.66 3 3 0 0 0-.05-3.04zm-1.7 2.05a1.31 1.31 0 0 1-1.19.65H4.33a1.31 1.31 0 0 1-1.19-.65 1 1 0 0 1 0-1l7.68-12.73a1.48 1.48 0 0 1 2.36 0l7.67 12.72a1 1 0 0 1 .01 1.01z"}),(0,e.createElement)("circle",{cx:"12",cy:"16",r:"1"}),(0,e.createElement)("path",{d:"M12 8a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"}))}[n]}const{Spinner:Zn}=wp.components,{useState:ei,useEffect:ti,useRef:ni,useContext:ii}=wp.element;function oi(){const t=ii(dn);let{folders:n,exclude:i,maxFiles:o,maxFileSize:r,minFileSize:a,enableFolderUpload:l=!i,isUpload:s,setIsUpload:c,isFormUploader:d,isRequired:u,showUploadLabel:p,uploadLabelText:m,getFiles:g,activeFolder:f,uploadFileName:h,isWooCommerceUploader:v,wcOrderId:w,wcProductId:y}=t;const{excludeExtensions:b,excludeAllExtensions:E,excludeExceptExtensions:_}=!!i&&i,[x,C]=ei([]),[S,A]=ei([]),[k,F]=ei([]),[N,T]=ei([]),[B,L]=ei([]),[O,P]=ei(0),[R,U]=ei(!1),[I,j]=ei([]),D=ni(null),M=ni(null),$=ni(null),z=ni(null);let H=f;if(!H){const e=n?n.filter((e=>gn(e.type))):[];H=e&&e.length?e[0]:{id:"root",accountId:igd.activeAccount.id}}const K=()=>{if(!d)return;if(B.length)return;const e=jQuery;let t=e(z.current).closest("form");const n=e(z.current).parents(".wpcf7-form"),i=e(z.current).parents(".wpforms-form"),o=e(z.current).parents(".frm-fluent-form"),r=e(z.current).parents(".frm-show-form"),a=e(z.current).parents(".nf-form-wrap form"),l=e(z.current).parents('form[id^="gform_"]');if(n.length?t=n:i.length?t=i:o.length?t=o:r.length?t=r:a.length?t=a:l.length&&(t=l),t){const t=e(z.current).parent().next(".upload-file-list"),n=k.map((e=>({id:e.id,name:e.name,iconLink:e.iconLink,size:e.size,parents:e.parents})));t.val(JSON.stringify(n))}},W=On();ti((()=>{d&&(B.length||W&&K())}),[B]),ti((()=>{if(!R||!k.length)return;const e=k.filter((e=>!!e)).map((e=>e.id));e.length&&(wp.ajax.post("igd_upload_notification",{fileIds:e,accountId:H.accountId}),K())}),[R]);const Q=e=>{D.current.stop(),P(0),T((t=>[...t,e]));const t=wn(e);wp.ajax.send("igd_get_upload_url",{data:{name:e.name,queueIndex:e.status,uploadFileName:h,size:e.size,type:e.type,folderId:H.id,accountId:H.accountId,path:t&&t.substring(0,t.lastIndexOf("/")+1),fileId:e.id,isWooCommerceUploader:v,wcOrderId:w,wcProductId:y},success:e=>{D.current.setOption("url",e),D.current.start()},error:t=>{console.log(t),V(e),L(B.filter((t=>t!==e))),T(B.filter((t=>t!==e))),P(0),C((n=>n.map((n=>(n.id===e.id&&(n.error=t.error),n)))))}})};ti((()=>{const e=r?`${parseInt(r)}mb`:0;if(D.current=new plupload.Uploader({browse_button:M.current,drop_element:z.current,multipart:!1,multi_selection:!o||o>1,filters:{max_files:o,file_ext:E?_:b,max_file_size:e,min_file_size:a},init:{FilesAdded:function(e,t){C((e=>[...e,...t])),L((e=>[...e,...t]))},FilesRemoved:(e,t)=>{L((e=>e.filter((e=>!t.find((t=>t.id===e)))))),C((e=>e.filter((e=>!t.find((t=>t.id===e.id))))))},FileUploaded:(e,t,n)=>{V(t);const i=JSON.parse(n.response);if(!i)return;let o={file:{...i,accountId:H.accountId}};v&&(o.wcOrderId=w,o.wcProductId=y,(e=>{const t=jQuery,n=t(z.current).parents(".igd-wc-upload-wrap");t(".wc-file-list-wrap",n).removeClass("igd-hidden");const i=`<li><img src="${e.iconLink}" alt="${e.name}" /> <span>${e.name}</span></li>`;t(".wc-file-list",n).append(i)})(i)),A((e=>[...e,t])),F((e=>[...e,i])),L((e=>e.filter((e=>e!==t.id)))),wp.ajax.post("igd_file_uploaded",o)},UploadProgress:(e,t)=>{P(t.percent)},UploadComplete:(e,t)=>{T([]),L([]),U(!0),g&&setTimeout((()=>{g(H)}),1500)},Error:(t,n)=>{const{code:i,file:r,message:l}=n;let s=l;-600===i?s=wp.i18n.__("File size exceeds the maximum upload size.","integrate-google-drive")+`(${e})`:"SIZE_MIN_ERROR"===i?s=wp.i18n.__("File size is less than the minimum upload size.","integrate-google-drive")+`(${a}mb)`:"EXT_ERROR"===i?s=wp.i18n.__("This file type is not allowed","integrate-google-drive"):"FILES_MAX_ERROR"===i&&(s=wp.i18n.__("You can not upload more than","integrate-google-drive")+` ${o} ${wp.i18n.__("files","integrate-google-drive")}`),r.error=s,x.find((e=>e.id===r.id))?C((e=>e.map((e=>e.id===r.id?r:e)))):C((e=>[...e,r]))}}}),plupload.buildUrl=function(e,t){return e},plupload.addFileFilter("file_ext",(function(e,t,n){if(!e)return void n(!0);const i=t.name.split(".").pop();let o;o=E?e.split(",").map((e=>e.trim())).includes(i):!e.split(",").map((e=>e.trim())).includes(i),o?n(!0):(this.trigger("Error",{code:"EXT_ERROR",file:t}),n(!1))})),plupload.addFileFilter("min_file_size",(function(e,t,n){(e=1024*e*1024)&&t.size<e?(this.trigger("Error",{code:"SIZE_MIN_ERROR",file:t}),n(!1)):n(!0)})),plupload.addFileFilter("max_files",(function(e,t,n){e&&this.files.length>=e?(this.trigger("Error",{code:"FILES_MAX_ERROR",file:t}),n(!1)):n(!0)})),D.current.init(),l){const e=new mOxie.FileInput({browse_button:$.current,directory:!0});e.init(),e.onchange=function(t){D.current.addFile(e.files)}}return()=>{D.current.destroy()}}),[]);const V=e=>{if(!e)return;const t=D.current.files,n=t.findIndex((t=>t.id===e.id))+1;n<t.length&&Q(t[n])};return ti((()=>{W&&B.length&&(N.length||Q(B[0]))}),[B]),(0,e.createElement)("div",{onDragEnter:()=>z.current.classList.add("drag-active"),onDragLeave:()=>z.current.classList.remove("drag-active"),onDrop:()=>z.current.classList.remove("drag-active"),ref:z,className:`igd-file-uploader igd-module-uploader ${d?" igd-form-uploader":""} ${!u||B.length||x.length?"":"required-error"}`},(0,e.createElement)("div",{className:"igd-file-uploader-body"},(0,e.createElement)("div",{className:"igd-file-uploader-inner"},!!i&&p&&(0,e.createElement)("span",{className:"igd-file-uploader-label"},m),(0,e.createElement)("span",{className:"dashicons dashicons-cloud-upload"}),(0,e.createElement)("p",null,wp.i18n.__("Drag and drop files here","integrate-google-drive")),(0,e.createElement)("p",{className:"or"},wp.i18n.__("OR","integrate-google-drive")),(0,e.createElement)("div",{className:"igd-file-uploader-buttons"},(0,e.createElement)("button",{ref:M},(0,e.createElement)(Xn,{icon:"addFile",size:24}),(0,e.createElement)("span",{className:"ml-1"},wp.i18n.__("Browse Files","integrate-google-drive"))),l&&(0,e.createElement)("button",{ref:$},(0,e.createElement)(Xn,{icon:"addFolder",size:24}),(0,e.createElement)("span",null,wp.i18n.__("Browse Folder","integrate-google-drive")))),s&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-tip":wp.i18n.__("Cancel upload","integrate-google-drive"),"data-for":"igd-upload-close",className:"cancel-upload dashicons dashicons-no",onClick:()=>c(!1)}),(0,e.createElement)(sn,{id:"igd-upload-close",effect:"solid"})),(0,e.createElement)("div",{className:"upload-info"},!!a&&(0,e.createElement)("span",{className:"max-size-label"},wp.i18n.__("Min File Size:","integrate-google-drive")," ",a,"MB"),!!r&&(0,e.createElement)("span",{className:"max-size-label"},wp.i18n.__("Max File Size:","integrate-google-drive")," ",r,"MB")))),!!x.length&&(0,e.createElement)("div",{className:"file-list-wrapper"},(0,e.createElement)("div",{className:"file-list-header"},(0,e.createElement)("span",null,B.length?`${B.length} ${wp.i18n.__("Item(s) Uploading...","integrate-google-drive")}`:`${x.filter((e=>!e.error)).length} ${wp.i18n.__("Item(s) Uploaded","integrate-google-drive")}`),(0,e.createElement)("i",{className:"dashicons dashicons-no-alt",onClick:()=>{x.map((e=>{e.error?C((t=>t.filter((t=>t.id!==e.id)))):D.current.removeFile(e)})),L([])}})),(0,e.createElement)("div",{className:"file-list"},[...new Set(x)].map((t=>{const{id:n,name:i,size:o,type:r,error:a}=t,l=N.find((e=>e.id===n)),s=S.find((e=>e.id===n)),c=I.find((e=>e.id===n)),d=wn(t);return(0,e.createElement)("div",{key:n,className:`file-list-item ${l?"active":""} ${s?"uploaded":""}`,id:n},(0,e.createElement)("img",{width:32,height:32,src:fn(r)}),(0,e.createElement)("div",{className:"file-info"},(0,e.createElement)("div",{className:"upload-item"},(0,e.createElement)("span",{className:"upload-item-name"},d||i),(0,e.createElement)("span",{className:"upload-item-size"},"(",plupload.formatSize(o),")")),(0,e.createElement)("div",{className:"file-info-percentage"},!!s&&(0,e.createElement)("i",{className:"dashicons dashicons-saved"}),!s&&l&&!a&&!c&&(0,e.createElement)(Zn,null),!s&&!!l&&!!O&&(0,e.createElement)("span",{className:"percentage"},O,"%"),!s&&l&&!c&&!a&&(0,e.createElement)("i",{className:"dashicons dashicons-controls-pause",onClick:()=>{D.current.stop(),j([...I,t])}}),!s&&c&&!a&&(0,e.createElement)("i",{className:"dashicons dashicons-controls-play",onClick:()=>{D.current.start(),j(I.filter((e=>e.id!==n)))}}),!s&&(0,e.createElement)("i",{className:"remove-file dashicons dashicons-no-alt",onClick:()=>{D.current.stop(),D.current.setOption("url",""),P(0),C((e=>e.filter((e=>e.id!==n)))),L((e=>e.filter((e=>e!==t.id)))),T((e=>e.filter((e=>e.id!==n)))),D.current.removeFile(t),V(t)}})),a?(0,e.createElement)("span",{className:"file-info-error"},a):(0,e.createElement)("span",{className:"file-info-progress",style:{"--percentage":l?`${O||2}%`:0}},(0,e.createElement)("span",{className:"file-info-progress-bar"}))))})))))}var ri=n(223);const{useContext:ai}=wp.element;function li(){const t=ai(dn),{permissions:n,setIsUpload:i,isShortcodeBuilder:o,shortcodeBuilderType:r}=t;return(0,e.createElement)("div",{className:"igd-root-placeholder empty-folder-placeholder"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/empty-folder-placeholder.svg`,alt:"Empty Folder"}),(0,e.createElement)("span",{className:"igd-root-placeholder-title"},wp.i18n.__("There is no items here.","integrate-google-drive")),(0,e.createElement)("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The folder is empty.","integrate-google-drive")),!o&&(!r||"browser"===r)&&(!n||n.upload)&&(0,e.createElement)("button",{type:"button",className:"igd-btn btn-primary uploader-btn",onClick:()=>i(!0)},(0,e.createElement)("i",{className:"dashicons dashicons-cloud-upload"}),wp.i18n.__("Upload Files","integrate-google-drive")))}const{useEffect:si,useRef:ci,useState:di,useContext:ui}=wp.element;function pi(){const t=ui(dn),{galleryHeight:n=300,thumbnailCaption:i,activeAccount:o,files:r,listFiles:a,setShouldRefresh:l,breadcrumbs:s,initFolders:c,setFiles:d,activeFolder:u,setActiveFolder:p,permissions:m,initParentFolder:g,setActiveFiles:f,activeFiles:h,selectAll:v}=t,w=ci(),[y,b]=di("list-item-col-4"),[E,_]=di([]),[x,C]=di([]),[S,A]=di({}),k=!!s&&Object.keys(s);si((()=>{if(!r.length)return _([]),void C([]);_(r.filter((e=>gn(e.type)||[o.id,"shared","recent","computers","starred","shared-drives"].includes(e.id))));const e=r.filter((e=>Cn(e.extension)||En(e.extension))).map((e=>{const{id:t,name:n,thumbnailLink:o,accountId:r,iconLink:a,metaData:l={}}=e;return{id:t,src:Bn("gallery",t,r,o,a),width:l.width,height:l.height,alt:n,caption:n,thumbnailCaption:i?n:null}}));C(e)}),[r]),si((()=>{w.current&&new ResizeObserver((e=>Nn(e,b))).observe(w.current)}),[]),si((()=>{E.length&&E.forEach((e=>{Sn(e.id,o)||F(e)}))}),[E]);const F=e=>{wp.apiFetch({path:"/igd/v1/get-files",method:"POST",data:{folder:e}}).then((t=>{const{files:n,error:i}=t;if(i)return void Swal.fire({html:i,icon:"error",confirmButtonText:wp.i18n.__("Ok","integrate-google-drive"),confirmButtonColor:"#2FB44B"});const o=n.filter(((e,t)=>(Cn(e.extension)||En(e.extension))&&t<5));A((t=>({...t,[e.id]:o})));const r=jQuery;r(".igd-gallery-folder-images").each((function(e,t){setTimeout((()=>{clearInterval(window[`interval_${e}`]),window[`interval_${e}`]=setInterval((()=>{let e=r(this).find(".active");if(e=e.length?e:r(this).find("img:first"),!e.length)return;const t=e.next().length?e.next():r(this).find("img:first");r(this).find("img").removeClass("active"),t.addClass("active")}),3e3)}),1500*e)}))})).catch((e=>{console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2FB44B"})}))},N=!u||"all"===u||!!g&&g.id===u.id;si((()=>{jQuery(".ReactGridGallery_tile-viewport img").attr("referrerpolicy","no-referrer");const e=()=>{N||l(!0)};return jQuery(".ReactGridGallery_tile-viewport img").on("error",e),()=>{jQuery(".ReactGridGallery_tile-viewport img").off("error",e)}}),[x]);const T=On();return si((()=>{if(T)if(v){f(r);const e=x.map((e=>({...e,isSelected:!0})));C(e)}else{f([]);const e=x.map((e=>({...e,isSelected:!1})));C(e)}}),[v]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{ref:w,className:"igd-module-gallery"},(0,e.createElement)("div",{className:`file-list ${y}`},!!k.length&&!!u&&(0,e.createElement)("div",{className:"go-prev file-item folder-item",onClick:e=>{if(k.length>1){const e=k[k.length-2],t={id:e,name:s[e],accountId:o.id};a(t)}else p(""),d(c)}},(0,e.createElement)("i",{className:"dashicons dashicons-arrow-left-alt"}),(0,e.createElement)("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!E.length&&E.map((t=>{let{id:n,name:i,iconLink:r}=t;const l=h.find((e=>e.id===n));let s=Bn("icon","","","",r);return(0,e.createElement)("div",{key:n,className:"file-item "+(l?"active":""),onClick:()=>a(t)},!!m.download&&!!m.zipDownload&&(0,e.createElement)("span",{className:"item-selection",onClick:e=>{e.stopPropagation(),h.find((e=>e.id===n))?f((e=>e.filter((e=>e.id!==n)))):f((e=>[...e,t]))}},(0,e.createElement)("svg",{fill:"#FFFFFFB2",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("radialGradient",{id:"shadow",cx:"38",cy:"95.488",r:"10.488",gradientTransform:"matrix(1 0 0 -1 -26 109)",gradientUnits:"userSpaceOnUse"},(0,e.createElement)("stop",{offset:".832",stopColor:"#010101"}),(0,e.createElement)("stop",{offset:"1",stopColor:"#010101",stopOpacity:"0"})),(0,e.createElement)("circle",{opacity:".26",fill:"url(#shadow)",cx:"12",cy:"13.512",r:"10.488"}),(0,e.createElement)("circle",{fill:"#FFF",cx:"12",cy:"12.2",r:"8.292"}),(0,e.createElement)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,e.createElement)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))),(0,e.createElement)("div",{className:"igd-gallery-folder-images"},S[n]&&S[n].length>0?S[n].map(((t,n)=>{const{id:i,name:o,thumbnailLink:r,accountId:a,iconLink:l}=t,c=Bn("thumbnail",i,a,r,l);return(0,e.createElement)("img",{key:i,className:0===n?"active":"",onError:e=>{e.target.src=s},src:c,alt:o})})):(0,e.createElement)("img",{className:"active",src:s,alt:i})),(0,e.createElement)("div",{className:"file-item-footer"},(0,e.createElement)("div",{className:"file-icon-wrap"},Sn(n,o)?(0,e.createElement)("i",{className:`file-icon dashicons ${s} footer-icon`}):(0,e.createElement)("img",{className:"file-icon",src:s,alt:i})),(0,e.createElement)("span",null,i)))}))),(0,e.createElement)(ri.Gallery,{images:x,rowHeight:n,margin:5,onClick:(e,t,n)=>{const i=r.filter((e=>Cn(e.extension)||En(e.extension)));Pn(n,t.id,i,m)},enableImageSelection:!!m.download&&!!m.zipDownload,onSelect:(e,t,n)=>{const i=r.find((e=>e.id===t.id));i&&f((e=>{const t=e.findIndex((e=>e.id===i.id));return t>-1?e.filter(((e,n)=>n!==t)):[...e,i]}));const o=x.map(((t,n)=>n===e?{...t,isSelected:!t.isSelected}:t));C(o)}})),!E.length&&!x.length&&(0,e.createElement)(li,null))}function mi(){return(0,e.createElement)("div",{className:"igd-root-placeholder"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/computers-placeholder.svg`,alt:"Computers"}),(0,e.createElement)("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Computers Syncing","integrate-google-drive")),(0,e.createElement)("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The files synced with computers will display here.","integrate-google-drive")))}function gi(){return(0,e.createElement)("div",{className:"igd-root-placeholder"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/shared-placeholder.svg`,alt:"Shared Files"}),(0,e.createElement)("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Shared With Me","integrate-google-drive")),(0,e.createElement)("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Files and folders others have shared with you.","integrate-google-drive")))}function fi(){return(0,e.createElement)("div",{className:"igd-root-placeholder"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/starred-placeholder.svg`,alt:"Starred Files"}),(0,e.createElement)("span",{className:"igd-root-placeholder-title"},wp.i18n.__("Nothing is starred","integrate-google-drive")),(0,e.createElement)("span",{className:"igd-root-placeholder-text"},wp.i18n.__("Adds star to files and folders that you want to find easily later.","integrate-google-drive")))}function hi(){return(0,e.createElement)("div",{className:"igd-root-placeholder"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/recent-placeholder.svg`,alt:"Recent Files"}),(0,e.createElement)("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Recent Entries","integrate-google-drive")),(0,e.createElement)("span",{className:"igd-root-placeholder-text"},wp.i18n.__("You haven't uploaded any files or folders yet.","integrate-google-drive")))}function vi(){return(0,e.createElement)("div",{className:"igd-root-placeholder"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/shared-drives-placeholder.svg`,alt:"Shared Drives"}),(0,e.createElement)("span",{className:"igd-root-placeholder-title"},wp.i18n.__("No Shared Drives","integrate-google-drive")),(0,e.createElement)("span",{className:"igd-root-placeholder-text"},wp.i18n.__("The Drives others have shared with you.","integrate-google-drive")))}function wi(t){let{activeRoot:n}=t;const{id:i}=n;return(0,e.createElement)(e.Fragment,null,"computers"===i&&(0,e.createElement)(mi,null),"shared-drives"===i&&(0,e.createElement)(vi,null),"shared"===i&&(0,e.createElement)(gi,null),"recent"===i&&(0,e.createElement)(hi,null),"starred"===i&&(0,e.createElement)(fi,null))}function yi(t){let{isSearchResults:n}=t;return(0,e.createElement)("div",{className:"igd-root-placeholder search-placeholder "+(n?"empty-placeholder":"")},(0,e.createElement)("svg",{width:100,height:100,className:"igd-placeholder-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 259 223",fill:"none"},(0,e.createElement)("g",{"clip-path":"url(#clip0_1110_10155)"},(0,e.createElement)("path",{d:"M127.836 80.9443C127.836 103.828 127.836 126.64 127.836 149.523C127.836 157.696 124.072 161.391 115.905 161.391C81.2469 161.391 46.5181 161.391 11.8603 161.391C3.97712 161.391 0.07102 157.553 0.07102 149.665C0.07102 116.264 0.14204 82.8631 0 49.462C0 46.4062 1.0653 46.0509 3.62202 46.1219C12.4995 46.2641 21.377 46.193 30.2545 46.193C40.4104 46.193 46.092 40.4367 46.163 30.4164C46.163 21.3199 46.234 12.1524 46.092 3.05595C46.092 0.923972 46.3761 0.000114277 48.8618 0.0711803C71.5882 0.213312 94.3146 0.142246 117.041 0.142246C123.788 0.142246 127.836 4.19301 127.836 11.0153C127.907 34.2539 127.836 57.6346 127.836 80.9443ZM65.6935 103.046C76.9147 103.046 88.2069 103.046 99.428 103.046C103.689 103.046 105.891 101.34 105.891 98.2133C105.891 95.2285 103.689 93.4519 99.6411 93.4519C77.2698 93.4519 54.8985 93.4519 32.5272 93.4519C28.479 93.4519 26.2774 95.1575 26.2064 98.1423C26.1354 101.198 28.479 103.046 32.5982 103.046C43.6773 103.046 54.6854 103.046 65.6935 103.046ZM66.1196 67.6549C55.0405 67.6549 43.8904 67.6549 32.8112 67.6549C28.6211 67.6549 26.2774 69.3605 26.2774 72.4164C26.2774 75.4722 28.55 77.3199 32.7402 77.3199C54.9695 77.3199 77.1277 77.3199 99.357 77.3199C103.618 77.3199 105.891 75.6143 105.891 72.5585C105.891 69.4316 103.618 67.726 99.428 67.726C88.2779 67.6549 77.1988 67.6549 66.1196 67.6549ZM48.6487 117.756C43.1091 117.756 37.5696 117.685 32.03 117.756C28.266 117.756 26.2064 119.533 26.2774 122.518C26.2774 125.361 28.55 127.208 32.101 127.208C43.0381 127.208 54.0462 127.208 64.9833 127.208C68.5343 127.208 70.807 125.218 70.807 122.447C70.807 119.604 68.5343 117.828 64.9123 117.756C59.5148 117.756 54.0462 117.756 48.6487 117.756Z",fill:"#C1E9C9"}),(0,e.createElement)("path",{d:"M148.999 101.482C148.999 124.081 148.999 146.751 148.999 169.35C148.999 178.376 145.377 182 136.287 182C101.984 182 67.6104 182 33.3077 182C24.6433 182 20.4531 177.452 21.1633 168.924C21.3053 167.574 21.5894 166.934 23.0098 167.076C23.72 167.147 24.4302 167.076 25.1404 167.076C55.3239 167.076 85.5074 167.076 115.691 167.076C127.409 167.076 133.588 160.894 133.588 149.097C133.588 107.523 133.659 65.9494 133.517 24.3758C133.517 21.2489 134.298 20.4672 137.352 20.5383C145.164 20.8225 148.999 24.518 148.999 32.4774C148.999 55.5027 148.999 78.5281 148.999 101.482Z",fill:"#C1E9C9"}),(0,e.createElement)("path",{d:"M40.4817 18.6906C40.4817 22.9545 40.5527 27.2185 40.4817 31.4825C40.4106 36.9545 37.0727 40.4368 31.6752 40.5078C22.9397 40.5789 14.1332 40.5078 5.39776 40.5078C3.19614 40.5078 1.42064 39.8682 0.568403 37.6652C-0.212817 35.6043 0.710443 34.0408 2.13084 32.5484C12.2157 22.4571 22.3005 12.3657 32.4564 2.27433C33.9478 0.781945 35.5813 -0.355111 37.7829 0.639812C39.9135 1.56367 40.4817 3.34032 40.4817 5.54337C40.4106 9.87839 40.4817 14.2845 40.4817 18.6906Z",fill:"#C1E9C9"})),(0,e.createElement)("g",{"clip-path":"url(#clip1_1110_10155)"},(0,e.createElement)("path",{d:"M148.9 79.6302C120.227 79.6302 91.6528 79.6302 62.9789 79.6302C51.4894 79.6302 46.8936 84.6083 48.4922 96.058C53.3877 132.199 58.4831 168.241 63.5784 204.382C64.5775 211.252 69.1733 214.935 76.9662 214.935C99.4456 215.035 121.925 214.935 144.405 214.935C169.382 214.935 194.359 214.935 219.336 214.935C221.035 214.935 222.633 214.935 224.332 215.234C226.33 215.632 227.529 217.026 227.529 219.117C227.429 221.208 226.23 222.502 224.232 222.801C222.733 223 221.234 222.9 219.736 222.9C172.779 222.9 125.822 222.9 78.8644 222.9C64.2778 222.9 57.484 217.126 55.4858 202.789C50.1906 166.747 45.1952 130.606 40.1997 94.5646C38.801 84.3096 44.4958 75.5482 54.5866 72.4617C56.2851 71.9639 57.2841 71.6652 57.7837 69.5744C59.682 62.3064 63.6783 59.6182 71.7709 59.5186C95.2495 59.5186 118.728 59.4191 142.207 59.6182C145.603 59.6182 147.801 58.8217 149.2 55.6357C150.199 53.2462 151.698 50.9563 153.097 48.7659C156.094 43.8873 160.49 41.0996 166.285 41.0996C187.465 41 208.546 40.9005 229.727 41.0996C236.62 41.1991 241.116 46.0777 241.416 52.8479C241.516 55.1379 241.516 57.5274 241.416 59.8173C241.216 66.3884 240.417 72.163 249.409 75.1499C256.902 77.639 259.799 85.7035 258.8 93.7681C255.203 121.347 251.207 148.926 247.411 176.504C247.011 179.292 245.912 181.582 242.915 181.283C239.418 180.985 239.018 178.197 239.418 175.31C241.916 157.588 244.413 139.865 246.811 122.143C248.21 112.486 249.609 102.828 250.807 93.0711C251.607 86.4005 247.411 80.9245 240.817 79.9289C238.818 79.6302 236.82 79.6302 234.822 79.6302C206.248 79.6302 177.574 79.6302 148.9 79.6302Z",fill:"#2FB44B"}),(0,e.createElement)("path",{d:"M225.431 149.025C225.331 153.904 223.632 161.072 219.536 167.444C218.037 169.834 218.237 171.228 220.235 173.219C230.126 182.777 239.818 192.634 249.509 202.391C253.205 206.074 253.705 209.659 251.007 212.347C248.31 215.035 244.813 214.537 241.116 210.853C231.525 201.395 222.034 191.937 212.542 182.379C210.444 180.188 209.046 179.491 206.048 181.383C190.962 191.14 171.48 190.144 157.593 179.292C143.605 168.34 138.11 150.22 143.506 133.394C148.901 116.667 164.486 105.118 182.57 104.521C205.549 103.724 225.431 123.039 225.431 149.025ZM183.569 176.106C200.254 176.007 213.542 162.566 213.342 145.939C213.242 129.71 199.454 116.269 183.269 116.468C166.684 116.568 153.297 130.208 153.496 146.735C153.596 163.063 167.084 176.206 183.569 176.106Z",fill:"#2FB44B"}),(0,e.createElement)("path",{d:"M107.738 171.427C112.933 171.427 118.029 171.228 123.224 171.427C128.519 171.626 131.316 174.613 131.516 179.89C131.616 182.18 131.616 184.569 131.516 186.859C131.316 191.937 128.519 195.023 123.524 195.222C112.933 195.421 102.243 195.421 91.6526 195.222C86.6572 195.123 83.8598 191.937 83.56 186.959C83.4601 184.967 83.56 182.976 83.56 180.985C83.6599 174.215 86.3575 171.526 93.3511 171.427C98.0468 171.327 102.842 171.327 107.738 171.427Z",fill:"#2FB44B"}),(0,e.createElement)("circle",{cx:"183",cy:"146",r:"30",fill:"white"}),n&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("rect",{width:"26.9682",height:"2.81029",transform:"matrix(0.708463 0.705748 0.708463 -0.705748 172.83 137.269)",fill:"#2FB44B"}),(0,e.createElement)("rect",{width:"27.6664",height:"2.81029",transform:"matrix(-0.708463 0.705748 0.708463 0.705748 191.885 135.286)",fill:"#2FB44B"}))),(0,e.createElement)("defs",null,(0,e.createElement)("clipPath",{id:"clip0_1110_10155"},(0,e.createElement)("rect",{width:"149",height:"182",fill:"white"})),(0,e.createElement)("clipPath",{id:"clip1_1110_10155"},(0,e.createElement)("rect",{width:"219",height:"182",fill:"white",transform:"translate(40 41)"})))),n?(0,e.createElement)("h3",{className:"igd-root-placeholder-title"},wp.i18n.__("No results found!","integrate-google-drive")):(0,e.createElement)("h3",{className:"igd-root-placeholder-title"},wp.i18n.__("Search for files & content","integrate-google-drive")),!n&&(0,e.createElement)($n,null))}const{useContext:bi}=wp.element;function Ei(){const t=bi(dn),{files:n,searchKeyword:i}=t;return(0,e.createElement)("div",{className:"search-result-info"},(0,e.createElement)("span",{className:"font-medium"},wp.i18n.__("Search results","integrate-google-drive")," for ",(0,e.createElement)("strong",null,i))," : ",n.length?n.length:"No"," items found.")}const{useState:_i,useRef:xi,useEffect:Ci,useContext:Si}=wp.element;function Ai(){const{preloader:t="default"}=igd.settings,n=Si(dn);let{isLoading:i,activeAccount:o,initFolders:r,files:a=[],setFiles:l,activeFiles:s,setActiveFiles:c,breadcrumbs:d,activeFolder:u,setActiveFolder:p,activeRoot:m,setActiveRoot:g,isShortcodeBuilder:f,selectedFolders:h,setSelectedFolders:v,isList:w,showLastModified:y,shortcodeBuilderType:b,isUpload:E,permissions:_,isSearchResults:x,isMobile:C,setIsOptions:S,setShouldRefresh:A,listFiles:k,show:F,hideAll:N,isSelectFiles:T,selectionType:B,setActiveFile:L,isLMS:O}=n;const P="browser"===b,R="uploader"===b,U="gallery"===b,I="embed"===b,j="search"===b,D="media"===b,M="view"===b,$="download"===b,z="slider"===b;let H=R&&h.length;h&&h.length&&T&&["single","parent","template"].includes(B)&&(H=!0);const[K,W]=_i(w?"igd-item-col-1":"igd-item-col-4");let Q=[!!P,!!D,!!z,!!U,!!I,!!M,!!$,!!O,!!T&&!B].includes(!0);const V=!Sn(u.id,o)||o.root_id===u.id,G=xi();Ci((()=>{w||G.current&&new ResizeObserver((e=>Nn(e,W))).observe(G.current)}),[w,E]);const q=!!d&&Object.keys(d),Y=a.filter((e=>!(gn(e.type)||e.shortcutDetails&&gn(e.shortcutDetails.targetMimeType))));return(0,e.createElement)("div",{className:"igd-body "+(i?"loading":"")},x&&!i&&(0,e.createElement)(Ei,null),(!U||f)&&(!V||!E)&&(0,e.createElement)("div",{ref:G,className:`file-list ${w?"list-view":""} ${K} ${a.length||Sn(u,o)?"":"empty"}`,onClick:()=>{L(null),c([])},onContextMenu:e=>{e.preventDefault(),S(!1),c([]),Sn(u.id,o)&&o.root_id!==u.id||(L(u),F(e))}},!U&&w&&"all"!==u&&!!a.length&&(0,e.createElement)("div",{className:"list-view-header"},(0,e.createElement)("span",{className:"col-name"},wp.i18n.__("Name","integrate-google-drive")),y&&(0,e.createElement)("span",{className:"col-modified"},wp.i18n.__("Modified","integrate-google-drive")),(0,e.createElement)("span",{className:"col-size"},wp.i18n.__("Size","integrate-google-drive"))),("all"===u||!u&&!!r)&&(!j||f)&&!x&&(0,e.createElement)(Gn,null),((!j||f)&&"all"!==u&&!!u&&!r||!!r&&!!q.length&&!!u)&&(0,e.createElement)("div",{className:"go-prev file-item folder-item",onClick:e=>{if(L(""),r)if(q.length>1){const e=q[q.length-2],t={id:e,name:d[e],accountId:o.id};k(t)}else p(""),l(r);else if(q.length>1){const e=q[q.length-2],t={id:e,name:d[e],accountId:o.id};k(t)}else p("all"),g("all"),l([]),k("all")}},(0,e.createElement)("i",{className:"dashicons dashicons-arrow-left-alt2"}),(0,e.createElement)("span",null,wp.i18n.__("Previous folder","integrate-google-drive"))),!!a.length&&Object.keys(a).map((t=>{const n=a[t],{id:i,name:o,type:r,iconLink:l,thumbnailLink:d,extension:u,size:p,updated:m,accountId:g,shortcutDetails:b}=n;if(!i)return;const E=gn(r)||!!b&&gn(b.targetMimeType),x=s.find((e=>e.id===i));if(D&&!E&&!bn(u))return;if(O&&!E&&!En(u))return;if(U&&!E&&!Cn(u)&&!En(u))return;if(U&&!E&&!d)return;const T=h&&!!h.find((e=>e.id===i));let B=f&&(Q||E)&&(!O||!E);H&&(B=(h[0].id||h[0])===i);const P=Bn("icon","","","",l),I=Bn("thumbnail",i,g,d,l);return(0,e.createElement)(e.Fragment,null,t==a.length-Y.length&&!w&&(0,e.createElement)("div",{className:"folder-file-divider"}),(0,e.createElement)("div",{key:i,"data-id":i,className:`igd-selectable file-item ${E?"folder-item":""} ${x||T?"active":""}`,onClick:e=>{e.stopPropagation(),N(),C?E?k(n):f?v([...h,n]):(L(n),Pn(e,i,Y,_)):(e.detail&&1!=e.detail||f?E?k(n):f&&B&&v(T?[...h.filter((e=>e.id!=n.id))]:[...h,n]):(e.ctrlKey||e.shiftKey||e.metaKey)&&!R?c((e=>e.find((e=>e.id===n.id))?e.filter((e=>e.id!==n.id)):[...e,n])):E?k(n):(L(n),Pn(e,i,Y,_)),console.log(n))},onDoubleClick:e=>{e.stopPropagation(),f||(E?k(n):(L(n),Pn(e,i,Y,_)))},onContextMenu:e=>{e.preventDefault(),e.stopPropagation(),N(),S(!1),n["shared-drives"]||f||(c([n]),L(n),F(e))},title:o},!E&&!w&&(0,e.createElement)("img",{referrerPolicy:"no-referrer",className:"igd-file-thumbnail "+(d?"has-thumbnail":""),src:I,loading:"lazy",onError:e=>{const t=e.target;t.classList.remove("has-thumbnail"),t.src!==P&&(t.src=P,A(!0))}}),(0,e.createElement)("div",{className:"file-item-footer"},(0,e.createElement)("div",{className:"file-icon-wrap"},(0,e.createElement)("img",{className:"file-icon",referrerPolicy:"no-referrer",src:P,alt:"icon"}),"application/vnd.google-apps.shortcut"===r&&(0,e.createElement)("svg",{className:"shortcut-icon",viewBox:"0 0 16 16",fill:"none",focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px"},(0,e.createElement)("circle",{cx:"8",cy:"8",r:"8",fill:"white"}),(0,e.createElement)("path",{d:"M10,3H6V4H8.15A5,5,0,0,0,10,13V12A4,4,0,0,1,9,4.65V7h1Z",fill:"#5F6368"})),!f&&(!_||_.download&&_.zipDownload)&&(0,e.createElement)("span",{className:"file-item-checkbox "+(x?"checked":""),onClick:e=>{e.stopPropagation(),c(x?e=>e.filter((e=>e.id!==n.id)):[...s,n])}},(0,e.createElement)("span",{className:"box"}))),(0,e.createElement)("span",{className:"file-item-name"},o),!f&&(0,e.createElement)("span",{className:"file-item-options",onClick:e=>{e.stopPropagation(),S(!1),L(n),F(e)}},(0,e.createElement)("i",{className:"dashicons dashicons-ellipsis"}))),w&&(0,e.createElement)(e.Fragment,null,y&&(0,e.createElement)("span",{className:"file-item-date"},moment(m).format("MMMM D, YYYY")),(0,e.createElement)("span",{className:"file-item-size"},p?mn(p):"â")),B&&(0,e.createElement)(Qn,{file:n,isSelected:T,selectedFolders:h,setSelectedFolders:v,isList:w})))}))),!f&&U&&(0,e.createElement)(pi,null),!i&&!U&&(!!r||!Sn(u.id,o)||u.id===o.root_id)&&!a.length&&!E&&!j&&!x&&(0,e.createElement)(li,null),!j&&!x&&!f&&!U&&V&&E&&(0,e.createElement)(oi,null),!i&&!a.length&&"all"!==m&&Sn(m.id,o)&&(0,e.createElement)(wi,{activeRoot:m}),!i&&(!f&&j||x)&&!a.length&&(0,e.createElement)(yi,{isSearchResults:x}),i&&(0,e.createElement)("div",{className:"loading-wrap"},igd.settings.customPreloader?(0,e.createElement)("img",{src:igd.settings.customPreloader,alt:"Loading..."}):(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/preloader/${t}.svg`,alt:"Loading..."})))}const{useState:ki,useEffect:Fi,useRef:Ni}=wp.element;function Ti(t){let{isList:n=!1}=t;const[i,o]=ki(n?"igd-item-col-1":"igd-item-col-4"),r=Ni(null);return Fi((()=>{n||r.current&&new ResizeObserver((e=>Nn(e,o))).observe(r.current)}),[n]),(0,e.createElement)("div",{ref:r,className:"listing-skeleton "+(n?"list-view":"")},[...Array(12).keys()].map((()=>n?(0,e.createElement)("div",{className:"listing-skeleton-item"},(0,e.createElement)("div",{className:"ssc-line"}),(0,e.createElement)("div",{className:"ssc-line"}),(0,e.createElement)("div",{className:"ssc-line"})):(0,e.createElement)("div",{className:`listing-skeleton-item ${i}`},(0,e.createElement)("div",{className:"ssc-square flex-1 w-full mb-3"}),(0,e.createElement)("div",{className:"flex"},(0,e.createElement)("div",{className:"ssc-circle w-6 h-6 mr-2"}),(0,e.createElement)("div",{className:"ssc-head-line flex-1"}))))))}const{useContext:Bi}=wp.element;function Li(){const t=Bi(dn),{activeAccount:n,activeFile:i,setShowDetails:o,activeFolder:r}=t,a=i||(Sn(r,n)||"object"!=typeof r?null:r),{name:l,iconLink:s,type:c,size:d,owner:u,updated:p,created:m,description:g}=a||{},f=s&&s.replace("/16/","/64/"),h=[{label:wp.i18n.__("Type","integrate-google-drive"),value:pn(c)},{label:wp.i18n.__("Size","integrate-google-drive"),value:mn(d)},{label:wp.i18n.__("Owner","integrate-google-drive"),value:u},{label:wp.i18n.__("Updated","integrate-google-drive"),value:moment(p).format("MMMM d, YYYY")},{label:wp.i18n.__("Created","integrate-google-drive"),value:moment(m).format("MMMM D, YYYY")},{label:wp.i18n.__("Description","integrate-google-drive"),value:g}];return(0,e.createElement)("div",{className:"igd-details-wrap"},(0,e.createElement)("div",{className:"igd-details"},(0,e.createElement)("i",{className:"close-details dashicons dashicons-no",onClick:()=>{o(!1),localStorage.removeItem("igd_show_details")}}),a&&n.root_id!==a.id?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"details-item name"},(0,e.createElement)("img",{src:f}),(0,e.createElement)("span",null,l)),h.map((t=>{if(t.value)return(0,e.createElement)("div",{key:t.value,className:`details-item field-${t.label.toLowerCase()}`},(0,e.createElement)("span",{className:"details-item-label"},t.label),(0,e.createElement)("span",{className:"details-item-value"},t.value))}))):(0,e.createElement)("div",{className:"details-placeholder"},(0,e.createElement)("i",{className:"dashicons dashicons-pressthis"}),(0,e.createElement)("span",null,wp.i18n.__("Select a file or folder to view its details.","integrate-google-drive")))))}function Oi(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Oi(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}var Pi=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=Oi(e))&&(i&&(i+=" "),i+=t);return i},Ri=n(406);function Ui(){return Ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ui.apply(this,arguments)}function Ii(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}var ji=(0,s.createContext)({});function Di(){return(0,s.useContext)(ji)}var Mi=function(e){return c().createElement(ji.Provider,{value:e.refTracker},e.children)};function $i(){var e=new Map;return{on:function(t,n){var i;return e.has(t)?null==(i=e.get(t))||i.add(n):e.set(t,new Set([n])),this},off:function(t,n){return n?e.get(t).delete(n):e.delete(t),this},emit:function(t,n){if("production"!==Ri.env.NODE){var i=t;e.has(t)||0===i||console.error("It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.","You used the menu id: "+t)}return e.has(t)&&e.get(t).forEach((function(e){e(n)})),this}}}var zi=$i();function Hi(){return(0,s.useRef)(new Map).current}var Ki={show:function(e){var t=e.id,n=e.event,i=e.props,o=e.position;n.preventDefault&&n.preventDefault(),zi.emit(0).emit(t,{event:n.nativeEvent||n,props:i,position:o})},hideAll:function(){zi.emit(0)}};var Wi={fade:"fade",flip:"flip",scale:"scale",slide:"slide"},Qi=function(){};function Vi(e){return"function"==typeof e}function Gi(e){return"string"==typeof e}function qi(e,t){return s.Children.map(s.Children.toArray(e).filter(Boolean),(function(e){return(0,s.cloneElement)(e,t)}))}function Yi(e,t){return Vi(e)?e(t):e}function Ji(e,t){return Vi(t)?Ui({},e,t(e)):Ui({},e,t)}var Xi=function(e){var t,n,i,o=e.id,r=e.theme,a=e.style,l=e.className,d=e.children,u=e.animation,p=void 0===u?"scale":u,m=e.onHidden,g=void 0===m?Qi:m,f=e.onShown,h=void 0===f?Qi:f,v=Ii(e,["id","theme","style","className","children","animation","onHidden","onShown"]),w=(0,s.useReducer)(Ji,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),y=w[0],b=w[1],E=(0,s.useRef)(null),_=(0,s.useRef)(!1),x=(n=y.visible,i=(0,s.useRef)(),(0,s.useEffect)((function(){i.current=n}),[n]),i.current),C=Hi(),S=(0,s.useState)((function(){return function(){var e,t,n,i,o=new Map,r=!1;function a(){i[e].node.focus()}function l(){return-1!==e||(s(),!1)}function s(){e+1<i.length?e++:e+1===i.length&&(e=0),r&&c(),a()}function c(){if(l()&&!n){var s=o.get(t),c=s.isRoot,d=s.items,u=s.focusedIndex,p=s.parentNode;t.classList.remove("react-contexify__submenu--is-open"),i=d,t=p,c&&(n=!0,o.clear()),r||(e=u,a())}}return{init:function(t){i=t,e=-1,n=!0},moveDown:s,moveUp:function(){-1===e||0===e?e=i.length-1:e-1<i.length&&e--,r&&c(),a()},openSubmenu:function(){if(l()&&e>=0&&i[e].isSubmenu){var s=Array.from(i[e].submenuRefTracker.values()),c=i[e].node;return o.set(c,{isRoot:n,focusedIndex:e,parentNode:t||c,items:i}),c.classList.add("react-contexify__submenu--is-open"),t=c,s.length>0?(e=0,i=s):r=!0,n=!1,a(),!0}return!1},closeSubmenu:c}}()}))[0];function A(e){var t=e.event,n=e.props,i=e.position;t.stopPropagation();var o,r,a=i||(r={x:0,y:0},function(e){return"touchend"===e.type}(o=t)&&o.changedTouches&&o.changedTouches.length>0?(r.x=o.changedTouches[0].clientX,r.y=o.changedTouches[0].clientY):(r.x=o.clientX,r.y=o.clientY),(!r.x||r.x<0)&&(r.x=0),(!r.y||r.y<0)&&(r.y=0),r),l=a.x,s=a.y;setTimeout((function(){b({visible:!0,willLeave:!1,x:l,y:s,triggerEvent:t,propsFromTrigger:n})}),0)}function k(e){var t=e;(void 0===t||2!==t.button&&!0!==t.ctrlKey||"contextmenu"===t.type)&&(function(e){return!(!e||!(Gi(e)||"exit"in e&&e.exit))}(p)?b((function(e){return{willLeave:e.visible}})):b((function(e){return{visible:!e.visible&&e.visible}})))}(0,s.useEffect)((function(){return _.current=!0,zi.on(o,A).on(0,k),function(){zi.off(o,A).off(0,k)}}),[o]),(0,s.useEffect)((function(){_.current&&y.visible!==x&&(y.visible?h():g())}),[y.visible,g,h]),(0,s.useEffect)((function(){y.visible?S.init(Array.from(C.values())):C.clear()}),[y.visible,S,C]),(0,s.useEffect)((function(){if(y.visible){var e=window,t=e.innerWidth,n=e.innerHeight,i=E.current,o=i.offsetWidth,r=i.offsetHeight,_x=y.x,a=y.y;_x+o>t&&(_x-=_x+o-t),a+r>n&&(a-=a+r-n),b({x:_x,y:a})}}),[y.visible]),(0,s.useEffect)((function(){function e(e){switch(e.preventDefault(),e.key){case"Enter":S.openSubmenu()||k();break;case"Escape":k();break;case"ArrowUp":S.moveUp();break;case"ArrowDown":S.moveDown();break;case"ArrowRight":S.openSubmenu();break;case"ArrowLeft":S.closeSubmenu()}}return y.visible&&(window.addEventListener("resize",k),window.addEventListener("contextmenu",k),window.addEventListener("click",k),window.addEventListener("scroll",k),window.addEventListener("keydown",e),window.addEventListener("blur",k)),function(){window.removeEventListener("resize",k),window.removeEventListener("contextmenu",k),window.removeEventListener("click",k),window.removeEventListener("scroll",k),window.removeEventListener("keydown",e),window.removeEventListener("blur",k)}}),[y.visible,S]);var F,N,T=y.visible,B=y.triggerEvent,L=y.propsFromTrigger,O=y.x,P=y.y,R=y.willLeave,U=Pi("react-contexify",l,((t={})["react-contexify__theme--"+r]=r,t),p?Gi(p)?Pi(((F={})["react-contexify__will-enter--"+p]=p&&T&&!R,F["react-contexify__will-leave--"+p+" react-contexify__will-leave--'disabled'"]=p&&T&&R,F)):"enter"in p&&"exit"in p?Pi(((N={})["react-contexify__will-enter--"+p.enter]=p.enter&&T&&!R,N["react-contexify__will-leave--"+p.exit+" react-contexify__will-leave--'disabled'"]=p.exit&&T&&R,N)):null:null),I=Ui({},a,{left:O,top:P,opacity:1});return c().createElement(Mi,{refTracker:C},T&&c().createElement("div",Object.assign({},v,{className:U,onAnimationEnd:function(){y.willLeave&&y.visible&&b({visible:!1,willLeave:!1})},style:I,ref:E,role:"menu"}),qi(d,{propsFromTrigger:L,triggerEvent:B})))},Zi=function(e){var t,n=e.children,i=e.className,o=e.style,r=e.triggerEvent,a=e.data,l=e.propsFromTrigger,s=e.onClick,d=void 0===s?Qi:s,u=e.disabled,p=void 0!==u&&u,m=e.hidden,g=void 0!==m&&m,f=Ii(e,["children","className","style","triggerEvent","data","propsFromTrigger","onClick","disabled","hidden"]),h=Di(),v={data:a,triggerEvent:r,props:l},w=Yi(p,v);if(Yi(g,v))return null;var y=Pi("react-contexify__item",i,((t={})["react-contexify__item--disabled"]=w,t));return c().createElement("div",Object.assign({},f,{className:y,style:o,onClick:function(e){v.event=e,w?e.stopPropagation():d(v)},onKeyDown:function(e){"Enter"===e.key&&(v.event=e,d(v))},ref:function(e){e&&!w&&h.set(e,{node:e,isSubmenu:!1})},tabIndex:-1,role:"menuitem","aria-disabled":w}),c().createElement("div",{className:"react-contexify__item__content"},n))},eo=function(e){var t,n=e.arrow,i=void 0===n?"â¶":n,o=e.children,r=e.disabled,a=void 0!==r&&r,l=e.hidden,d=void 0!==l&&l,u=e.label,p=e.className,m=e.triggerEvent,g=e.propsFromTrigger,f=e.style,h=Ii(e,["arrow","children","disabled","hidden","label","className","triggerEvent","propsFromTrigger","style"]),v=Di(),w=Hi(),y=(0,s.useRef)(null),b=(0,s.useState)({left:"100%",top:0,bottom:"initial"}),E=b[0],_=b[1],x={triggerEvent:m,props:g},C=Yi(a,x),S=Yi(d,x);if((0,s.useEffect)((function(){if(y.current){var e=window,t=e.innerWidth,n=e.innerHeight,i=y.current.getBoundingClientRect(),o={};i.right<t?(o.left="100%",o.right=void 0):(o.right="100%",o.left=void 0),i.bottom>n?(o.bottom=0,o.top="initial"):o.bottom="initial",_(o)}}),[]),S)return null;var A=Pi("react-contexify__item",p,((t={})["react-contexify__item--disabled"]=C,t)),k=Ui({},f,E);return c().createElement(Mi,{refTracker:w},c().createElement("div",Object.assign({},h,{className:A,ref:function(e){e&&!C&&v.set(e,{node:e,isSubmenu:!0,submenuRefTracker:w})},tabIndex:-1,role:"menuitem","aria-haspopup":!0,"aria-disabled":C}),c().createElement("div",{className:"react-contexify__item__content",onClick:function(e){e.stopPropagation()}},u,c().createElement("span",{className:"react-contexify__submenu-arrow"},i)),c().createElement("div",{className:"react-contexify react-contexify__submenu",ref:y,style:k},qi(o,{propsFromTrigger:g,triggerEvent:m}))))};const{useState:to,useEffect:no}=wp.element,{Spinner:io}=wp.components;function oo(t){let{files:n,setFiles:i,activeAccount:o}=t;const[r,a]=to(null),[l,s]=to(null),[c,d]=to(null),[u,p]=to([]),[m,g]=to(!1),f=n.map((e=>e.id)),h=n.map((e=>e.parents[0]));function v(e){return a(e.id),wp.apiFetch({path:"/igd/v1/get-folders",method:"POST",data:{folder:e}}).then((t=>{let{data:n}=t;s((t=>({...t,[e.id]:n})))})).catch((e=>{console.log(e)})).finally((()=>{a(null)}))}no((()=>{const e={id:o.root_id,accountId:o.id};v(e).then((t=>{p([e])}))}),[]);let w=!!c&&(f.includes(c.id)||h.includes(c.id));return c&&["computers","shared","starred","recent","shared-drives"].includes(c.id)&&(w=!0),c&&o.root_id===c.id&&h.includes(o.root_id)&&(w=!0),(0,e.createElement)("div",{className:"move-folders-wrap"},(0,e.createElement)("div",{className:"move-folders"},hn(!1,o).map((t=>{const{id:n,name:i,iconLink:o}=t,a=u.find((e=>e.id===n)),s=!!c&&c.id===n;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{key:n,className:"move-folder "+(s?"active":""),onClick:()=>d(t)},(0,e.createElement)("i",{className:"dashicons dashicons-arrow-"+(a?"down":"right"),onClick:()=>{p((e=>a?e.filter((e=>e.id!==n)):[...e,t])),a||l&&l[n]||v(t)}}," "),(0,e.createElement)("img",{src:o,alt:i}),(0,e.createElement)("span",null,i),r===n&&(0,e.createElement)(io,null)),a&&(0,e.createElement)(ro,{folders:l[n]?l[n]:[],childFolders:l,selectedFolder:c,setSelectedFolder:d,getFolders:v,openFolders:u,setOpenFolders:p,loading:r}))}))),(0,e.createElement)("button",{disabled:w,type:"button",className:"igd-btn "+(w?"disabled":"btn-primary"),onClick:function(){g(!0),wp.apiFetch({method:"POST",path:"igd/v1/move-file/",data:{file_ids:f,folder_id:c.id}}).then((e=>{let{data:t}=e;i((e=>e.filter((e=>!f.includes(e.id))))),Swal.fire({title:wp.i18n.__("Success","integrate-google-drive"),text:wp.i18n.__("File(s) moved successfully","integrate-google-drive"),icon:"success",toast:!0,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})})).catch((e=>{console.log(e),Swal.fire({title:wp.i18n.__("Error","integrate-google-drive"),text:wp.i18n.__("Error moving file(s)","integrate-google-drive"),icon:"error",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0})})).finally((()=>{g(!1)}))}},m&&(0,e.createElement)(io,null),m?wp.i18n.__("Moving...","integrate-google-drive"):wp.i18n.__("Move","integrate-google-drive")))}function ro(t){let{folders:n,childFolders:i,selectedFolder:o,setSelectedFolder:r,getFolders:a,openFolders:l,setOpenFolders:s,loading:c}=t;return n.length?n.map((t=>{const n=l.find((e=>e.id===t.id)),d=!!o&&o.id===t.id;return(0,e.createElement)("div",{key:t.id,className:"move-folder-wrap"},(0,e.createElement)("div",{className:"move-folder "+(d?"active":""),onClick:()=>r(t)},(0,e.createElement)("i",{className:"dashicons dashicons-arrow-"+(n?"down":"right"),onClick:()=>{s(n?e=>e.filter((e=>e.id!==t.id)):e=>[...e,t]),n||i&&i[t.id]||a(t)}}," "),(0,e.createElement)("img",{src:t.iconLink,alt:t.name}),(0,e.createElement)("span",null,t.name),c===t.id&&(0,e.createElement)(io,null)),n&&i[t.id]&&(0,e.createElement)(ro,{folders:i[t.id],childFolders:i,getFolders:a,setSelectedFolder:r,selectedFolder:o,openFolders:l,setOpenFolders:s,loading:c}))})):(0,e.createElement)("div",{className:"move-folder-wrap empty"},(0,e.createElement)("i",{className:"dashicons dashicons-warning"}),(0,e.createElement)("span",null,wp.i18n.__("No folders found!","integrate-google-drive")))}const{useState:ao,useEffect:lo}=wp.element;function so(t){let{file:n,isDirectLink:i}=t;const{id:o,name:r,accountId:a,type:l}=n,s=()=>{document.querySelector(".share-link input").select(),document.execCommand("copy"),setTimeout((()=>{Swal.fire({title:wp.i18n.__("Copied!","integrate-google-drive"),text:wp.i18n.__("Link copied to clipboard.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}),500)},c=Rn(JSON.stringify({id:o,accountId:a,type:l,name:r})),d=i?`${igd.siteUrl}/?direct_file=${c}`:null,u=i?`${igd.siteUrl}/?direct_file=${c}&embed=1`:null,[p,m]=ao(d),[g,f]=ao(u);lo((()=>{i||(Swal.showLoading(),wp.ajax.send("igd_get_share_link",{data:{file:n},success:e=>{m(e.viewLink),f(e.embedLink)},error:e=>{console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),confirmButtonColor:"#2FB44B"})}}).done((()=>{Swal.hideLoading()})))}),[]);const[h,v]=ao("link"),{channels:w=["shareLink","embedCode","email"]}=igd.settings;return p&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"share-link"},"link"===h?(0,e.createElement)("input",{type:"text",value:p,readOnly:!0,onClick:s}):(0,e.createElement)("textarea",{readOnly:!0,onClick:()=>{document.querySelector(".share-link textarea").select(),document.execCommand("copy"),setTimeout((()=>{Swal.fire({title:wp.i18n.__("Copied!","integrate-google-drive"),text:wp.i18n.__("Embed code copied to clipboard.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}),500)}},`<iframe src="${g}" width="100%" height="480" frameBorder="0" allowTransparency="true" allow="encrypted-media" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>`)),(0,e.createElement)("div",{className:"share-links"},w.includes("shareLink")&&(0,e.createElement)("div",{className:"share-item link",onClick:()=>{v("link"),s()}},(0,e.createElement)("i",{className:"dashicons dashicons-admin-links"}),(0,e.createElement)("span",null,wp.i18n.__("Copy Link","integrate-google-drive"))),w.includes("embedCode")&&(0,e.createElement)("div",{className:"share-item embed",onClick:()=>v("embed")},(0,e.createElement)("i",{className:"dashicons dashicons-editor-code"}),(0,e.createElement)("span",null,wp.i18n.__("Embed","integrate-google-drive"))),w.includes("email")&&(0,e.createElement)("a",{className:"share-item email",href:`mailto:?subject=${r}&body=${p}`,onClick:()=>v("link")},(0,e.createElement)("i",{className:"dashicons dashicons-email"}),(0,e.createElement)("span",null,wp.i18n.__("Email","integrate-google-drive"))),w.includes("facebook")&&(0,e.createElement)("a",{className:"share-item facebook",href:`https://www.facebook.com/sharer/sharer.php?u=${p}`,target:"_blank",onClick:()=>v("link")},(0,e.createElement)("i",{className:"dashicons dashicons-facebook"}),(0,e.createElement)("span",null,wp.i18n.__("Facebook","integrate-google-drive"))),w.includes("twitter")&&(0,e.createElement)("a",{className:"share-item twitter",href:`https://twitter.com/intent/tweet?text=${r}&url=${p}`,target:"_blank",onClick:()=>v("link")},(0,e.createElement)("i",{className:"dashicons dashicons-twitter"}),(0,e.createElement)("span",null,wp.i18n.__("Twitter","integrate-google-drive"))),w.includes("whatsapp")&&(0,e.createElement)("a",{className:"share-item whatsapp",href:`https://wa.me/?text=${p}`,target:"_blank",onClick:()=>v("link")},(0,e.createElement)("i",{className:"dashicons dashicons-whatsapp"}),(0,e.createElement)("span",null,wp.i18n.__("WhatsApp","integrate-google-drive")))))}const{useContext:co}=wp.element;function uo(){const t=co(dn),{activeAccount:n,getFiles:i,activeFiles:o,setActiveFiles:r,activeFile:a,activeFolder:l,permissions:s,shortcodeBuilderType:c,isOptions:d,setIsOptions:u,isList:p,setIsList:m,setShowDetails:g,setIsUpload:f,isShortcodeBuilder:h,contextMenuId:v,selectAll:w,setSelectAll:y,setFiles:b}=t,E="search"===c,_="gallery"===c,x=!!a&&!!l&&a.id===l.id,C=[{key:"newFolder",title:wp.i18n.__("New Folder","integrate-google-drive"),icon:"dashicons-open-folder"},{key:"createDoc",title:wp.i18n.__("Create Document","integrate-google-drive"),icon:"dashicons-welcome-add-page"},{key:"upload",title:wp.i18n.__("Upload Files","integrate-google-drive"),icon:"dashicons-cloud-upload"},{key:"preview",title:s&&!1===s.inlinePreview?wp.i18n.__("Preview in a new window","integrate-google-drive"):wp.i18n.__("Preview","integrate-google-drive"),icon:"dashicons-visibility"},{key:"details",title:wp.i18n.__("View Details","integrate-google-drive"),icon:"dashicons-info-outline"},{key:"directLink",title:wp.i18n.__("Direct Link","integrate-google-drive"),icon:"dashicons-admin-links"},{key:"share",title:wp.i18n.__("Share","integrate-google-drive"),icon:"dashicons-share"},{key:"selectAll",title:w?wp.i18n.__("Deselect All","integrate-google-drive"):wp.i18n.__("Select All","integrate-google-drive"),icon:"dashicons-screenoptions"},{key:"edit",title:wp.i18n.__("Edit (New Window)","integrate-google-drive"),icon:"dashicons-edit-page"},{key:"download",title:wp.i18n.__("Download","integrate-google-drive")+""+(d&&o.length>1?` (${o.length})`:""),icon:"dashicons-download"},{key:"import",title:wp.i18n.__("Import to Media","integrate-google-drive")+""+(d&&o.length>1?` (${o.length})`:""),icon:"dashicons-migrate"},{key:"move",title:wp.i18n.__("Move","integrate-google-drive")+""+(d&&o.length>1?` (${o.length})`:""),icon:"dashicons-editor-break"},{key:"rename",title:wp.i18n.__("Rename","integrate-google-drive"),icon:"dashicons-edit"},{key:"copy",title:wp.i18n.__("Copy","integrate-google-drive"),icon:"dashicons-admin-page"},{key:"delete",title:wp.i18n.__("Delete","integrate-google-drive")+""+(d&&o.length>1?` (${o.length})`:""),icon:"dashicons-trash"},{key:"view",title:p?wp.i18n.__("Grid View","integrate-google-drive"):wp.i18n.__("List View","integrate-google-drive"),icon:p?"dashicons-grid-view":"dashicons-list-view"}],S=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=t?wp.i18n.__("Direct Link","integrate-google-drive"):wp.i18n.__("Share","integrate-google-drive");Swal.fire({title:n,html:'<div id="igd-share-modal"></div>',didOpen:()=>{const n=document.getElementById("igd-share-modal");wp.element.render((0,e.createElement)(so,{file:a,isDirectLink:t}),n)},showCloseButton:!0,showConfirmButton:!1,showCancelButton:!1,customClass:"share-modal"})},A=a&&a.permissions?a.permissions:{},k=!!A.canEdit,F=!!A.canPreview,N=!!A.canRename;s&&(s.selectAll=!!s&&!!s.download&&!!s.zipDownload);const T=[{key:"doc",title:wp.i18n.__("Google Doc","integrate-google-drive"),icon:"dashicons-media-document"},{key:"sheet",title:wp.i18n.__("Google Sheet","integrate-google-drive"),icon:"dashicons-media-spreadsheet"},{key:"slide",title:wp.i18n.__("Google Slide","integrate-google-drive"),icon:"dashicons-media-interactive"}],B=C.filter((e=>{let{key:t}=e;if((!E||["preview","download","view"].includes(t))&&(!_||"view"!==t)&&(!h||"view"===t)&&("view"===t||!s||s[t])&&("edit"!==t||k)&&("share"!==t||!d&&a)&&("directLink"!==t||!d&&a)&&("details"!==t||!d)&&("selectAll"!==t||d)&&("preview"!==t||!(a&&(!F||gn(a.type))||d&&(1!==o.length||gn(o[0].type))))&&("copy"!==t||!(d&&!o.length||!d&&a&&gn(a.type)||d&&o.length&&o.some((e=>gn(e.type)))))&&("move"!==t||!d||o.length)&&("import"!==t||!(d&&(!o.length||o.some((e=>gn(e.type))))||a&&gn(a.type)))&&("rename"!==t||!d||!(o.length>1)&&N)&&("delete"!==t||!d||o.length)&&("download"!==t||(!d||o.length)&&(!a||a.permissions&&(gn(a.type)||a.permissions.canDownload)))&&(x||l&&"all"!==l&&d||!["newFolder","upload","createDoc"].includes(t))&&(d||!["view"].includes(t))&&(!(d&&l&&"all"!==l&&n.root_id!==l.id&&Sn(l.id,n))||["view"].includes(t))&&(!x||o.length||d||["newFolder","upload","createDoc"].includes(t)))return!0}));return a||o?(0,e.createElement)(Xi,{id:v,className:"igd-context-menu",animation:Wi.fade},B.map((t=>{let{key:c,title:h,icon:v}=t;return(0,e.createElement)(Zi,{key:c,onClick:t=>{let{data:h,event:v,triggerEvent:w}=t;if(u&&u(!1),"newFolder"!==c)if("upload"!==c)if("edit"!==c)if("share"!==c)if("directLink"!==c)if("preview"!==c)if("download"!==c)if("rename"!==c)if("move"!==c)if("copy"!==c){if("import"===c)return igd.isPro?void(()=>{const e=d?o.filter((e=>!gn(e.type))):[a].filter((e=>!gn(e.type)));Swal.fire({title:`Importing ${e.length} files`,text:wp.i18n.__("Please wait...","integrate-google-drive"),icon:"info",showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,didOpen:()=>{Swal.showLoading(),wp.ajax.send("igd_import_media",{data:{files:e},success:e=>{console.log(e)},error:e=>{console.log(e)},complete:()=>{Swal.fire({title:wp.i18n.__("Imported!","integrate-google-drive"),text:wp.i18n.__("File(s) have been imported.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})}})}})})():void Ln(wp.i18n.__("Upgrade to PRO to import cloud files to the Media Library.","integrate-google-drive"));if("delete"!==c)return"view"===c?(m(!p),void localStorage.setItem("igd_view",p?"grid":"list")):"details"===c?(g(!0),void localStorage.setItem("igd_show_details",1)):void("selectAll"!==c||y((e=>!e)));(()=>{const e=d?o.map((e=>e.id)):[a.id],t=d?o[0].accountId:a.accountId;Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You won't be able to revert this!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#2fb44b",cancelButtonColor:"#d33",confirmButtonText:wp.i18n.__("Yes, delete it!","integrate-google-drive"),cancelButtonText:wp.i18n.__("No, cancel!","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,preConfirm:()=>wp.apiFetch({path:"/igd/v1/delete-files",method:"POST",data:{file_ids:e,account_id:t}})}).then((t=>{t.isConfirmed&&(b((t=>t.filter((t=>!e.includes(t.id))))),Swal.fire({title:wp.i18n.__("Deleted!","integrate-google-drive"),text:wp.i18n.__("File(s) has been deleted.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0}))}))})()}else(()=>{const e=d?o.filter((e=>!gn(e.type))):[a].filter((e=>!gn(e.type)));Swal.fire({title:`Copying ${e.length} files`,text:wp.i18n.__("Please wait...","integrate-google-drive"),icon:"info",showConfirmButton:!1,allowEscapeKey:!1,allowEnterKey:!1,allowOutsideClick:!1,didOpen:()=>{Swal.showLoading(),wp.apiFetch({method:"POST",path:"igd/v1/copy/",data:{files:e}}).then((e=>{b((t=>[...t,...e])),Swal.close(),Swal.fire({title:wp.i18n.__("Copied!","integrate-google-drive"),text:wp.i18n.__("File(s) have been copied.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).catch((e=>{Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),confirmButtonColor:"#2FB44B"})}))}})})();else Swal.fire({title:wp.i18n.__("Move","integrate-google-drive"),text:wp.i18n.__("Select destination","integrate-google-drive"),html:'<div id="igd-move"></div>',showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,didOpen(t){const i=document.getElementById("igd-move");wp.element.render((0,e.createElement)(oo,{files:d?o:[a],setFiles:b,activeAccount:n}),i)},willClose(){const e=document.getElementById("igd-move");wp.element.unmountComponentAtNode(e)}});else Swal.fire({title:wp.i18n.__("Rename","integrate-google-drive"),text:wp.i18n.__("Enter new name","integrate-google-drive"),input:"text",inputValue:a.name,inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Rename","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,confirmButtonColor:"#2fb44b",preConfirm:e=>e?wp.apiFetch({method:"POST",path:"igd/v1/rename/",data:{name:e,file_id:a.id}}).then((t=>{let{data:n}=t;b((t=>t.map((t=>t.id===a.id?{...t,name:e}:t)))),Swal.close(),Swal.fire({title:wp.i18n.__("Renamed!","integrate-google-drive"),text:wp.i18n.__("File has been renamed.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).catch((e=>{Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),confirmButtonColor:"#2FB44B"})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))});else{if(a&&a.exportAs&&Object.keys(a.exportAs).length)return;if(x||!a||gn(a.type))if(1!==o.length||gn(o[0].type))(()=>{const e=(new Date).getTime(),t=d?o.map((e=>e.id)):[a.id],n=d?o[0].accountId:a.accountId,i=`${igd.ajaxUrl}?action=igd_download_zip&file_ids=${Rn(JSON.stringify(t))}&id=${e}&accountId=${n}`;Swal.fire({title:wp.i18n.__("Download","integrate-google-drive"),html:`<div class="igd-download-wrap"><div id="igd-download-status"></div><div id="igd-download-progress"></div><iframe id="igd-hidden-download" class="igd-hidden" src="${i}" ></iframe></div>`,showCancelButton:!1,showConfirmButton:!1,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"igd-download-popup"},didOpen:()=>{Swal.showLoading();const t=jQuery("#igd-download-status"),n=jQuery("#igd-download-progress");window.downloadStatusInterval=setInterval((()=>{wp.ajax.send("igd_download_status",{data:{id:e},success:e=>{if(!document.getElementById("igd-hidden-download"))return clearInterval(window.downloadStatusInterval),void Swal.close();if(!e)return clearInterval(window.downloadStatusInterval),Swal.close(),void Swal.fire({title:wp.i18n.__("Completed!","integrate-google-drive"),text:wp.i18n.__("Download completed","integrate-google-drive"),icon:"success",showConfirmButton:!1,toast:!0,timer:2e3,timerProgressBar:!0});const{status:i,total:o,downloaded:r,action:a}=e;"failed"===a?(clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:i,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),confirmButtonColor:"#2FB44B"})):(t.html(i),"downloading"===a&&n.html(`${mn(r)} of ${mn(o)} - ${Math.round(r/o*100)}%`))},error:e=>{clearInterval(window.downloadStatusInterval),Swal.close(),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),confirmButtonColor:"#2FB44B"})}})}),1e3)},willClose(){clearInterval(window.downloadStatusInterval)}})})();else{const e=`${igd.ajaxUrl}?action=igd_download&id=${o[0].id}&accountId=${o[0].accountId}`;window.location.href=e}else{const e=`${igd.ajaxUrl}?action=igd_download&id=${a.id}&accountId=${a.accountId}`;window.location.href=e}}else{const e=a||o[0];Pn(v,e.id,[e],s)}else S(!0);else S();else window.open(a.webViewLink,"_blank").focus();else f(!0);else!function(e,t,n){t&&t([]),Swal.fire({title:"New Folder",text:"Enter new folder name",input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,confirmButtonColor:"#2FB44B",preConfirm:t=>t?wp.apiFetch({method:"POST",path:"igd/v1/new-folder/",data:{name:t,parent:e}}).then((t=>{let{data:i}=t;n(e),Swal.close(),Swal.fire({title:"Created!",text:"Folder has been created.",icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).catch((e=>{Swal.fire({title:"Error!",text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#2FB44B"})})):Swal.showValidationMessage("Please enter a name")})}(l,r,i)},data:{action:c},className:`context-menu-item ${c} ${["import"].includes(c)&&!igd.isPro?"disabled":""}`},"createDoc"===c?(0,e.createElement)(eo,{className:"context-submenu",label:(0,e.createElement)("div",{className:"context-submenu-label"},(0,e.createElement)("i",{className:`dashicons ${v}`}),(0,e.createElement)("span",null,h)),arrow:(0,e.createElement)("i",{className:"dashicons dashicons-arrow-right"})},T.map((t=>{let{key:n,title:o,icon:r}=t;return(0,e.createElement)(Zi,{key:n,onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"doc",t=wp.i18n.__("New Document","integrate-google-drive"),n=wp.i18n.__("Enter document name","integrate-google-drive");"sheet"===e?(t=wp.i18n.__("New Spreadsheet","integrate-google-drive"),n=wp.i18n.__("Enter spreadsheet name","integrate-google-drive")):"slide"===e&&(t=wp.i18n.__("New Presentation","integrate-google-drive"),n=wp.i18n.__("Enter presentation name","integrate-google-drive")),Swal.fire({title:t,text:n,input:"text",inputValue:"",inputAttributes:{autocapitalize:"off"},showCancelButton:!1,confirmButtonText:wp.i18n.__("Create","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,confirmButtonColor:"#2fb44b",preConfirm:t=>t?wp.apiFetch({method:"POST",path:"igd/v1/create-doc/",data:{name:t,type:e,folder:l}}).then((t=>{let{data:n}=t;i(l),Swal.close();let o=wp.i18n.__("Document created","integrate-google-drive"),r=wp.i18n.__("Document created successfully","integrate-google-drive");"sheet"===e?(o=wp.i18n.__("Spreadsheet created","integrate-google-drive"),r=wp.i18n.__("Spreadsheet created successfully","integrate-google-drive")):"slide"===e&&(o=wp.i18n.__("Presentation created","integrate-google-drive"),r=wp.i18n.__("Presentation created successfully","integrate-google-drive")),Swal.fire({title:o,text:r,icon:"success",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,toast:!0})})).catch((e=>{Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:e.message,icon:"error",showConfirmButton:!0,confirmButtonText:wp.i18n.__("OK","integrate-google-drive"),confirmButtonColor:"#2FB44B"})})):Swal.showValidationMessage(wp.i18n.__("Please enter a name","integrate-google-drive"))})}(n),className:`context-menu-item ${n}`},(0,e.createElement)("i",{className:`dashicons ${r}`}),(0,e.createElement)("span",null,o))}))):"download"===c&&a&&a.exportAs&&Object.keys(a.exportAs).length?(0,e.createElement)(eo,{className:"context-submenu",label:(0,e.createElement)("div",{className:"context-submenu-label"},(0,e.createElement)("i",{className:`dashicons ${v}`}),(0,e.createElement)("span",null,wp.i18n.__("Download as","integrate-google-drive"))),arrow:(0,e.createElement)("i",{className:"dashicons dashicons-arrow-right"})},Object.keys(a.exportAs).map((t=>(0,e.createElement)(Zi,{key:t,className:`context-menu-item ${t}`,onClick:()=>(e=>{const{mimetype:t}=a.exportAs[e],n=`${igd.ajaxUrl}?action=igd_download&id=${a.id}&accountId=${a.accountId}&mimetype=${t}`;window.location.href=n})(t)},(0,e.createElement)("i",{className:"dashicons dashicons-media-text"}),(0,e.createElement)("span",null,t))))):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("i",{className:`dashicons ${v}`}),(0,e.createElement)("span",null,h),["import"].includes(c)&&!igd.isPro&&(0,e.createElement)("div",{className:"pro-badge"},(0,e.createElement)("i",{className:"dashicons dashicons-lock"}),(0,e.createElement)("span",null,wp.i18n.__("PRO","integrate-google-drive")))))}))):null}function po(){return(0,e.createElement)("div",{className:"no-account-placeholder"},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/file-browser/no-account-placeholder.svg`,alt:"No Accounts"}),(0,e.createElement)("span",{className:"placeholder-heading"},wp.i18n.__("You didn't link any account yet.","integrate-google-drive")),(0,e.createElement)("span",{className:"placeholder-description"},wp.i18n.__("Please link to a Google Drive account to continue.","integrate-google-drive")),(0,e.createElement)("button",{className:"igd-btn add-account-btn",onClick:()=>{igd.authUrl?window.open(igd.authUrl,"newwindow","width=550,height=600"):window.location=igd.adminUrl+"/admin.php?page=integrate-google-drive-settings&tab=accounts"}},(0,e.createElement)("img",{src:`${igd.pluginUrl}/assets/images/google-icon.png`}),(0,e.createElement)("span",null,wp.i18n.__("Sign in with Google","integrate-google-drive"))))}const{useState:mo,useEffect:go}=wp.element;function fo(t){let{initParentFolder:n,isShortcodeBuilder:i,selectedFolders:o,setSelectedFolders:r,allFolders:a,privateFolders:l,initFolders:s,exclude:c,isList:d,showLastModified:u=!s,fileNumbers:p,sort:m,shortcodeBuilderType:g,permissions:f,showHeader:h=!s,showRefresh:v=!0,showBreadcrumbs:w=!0,galleryHeight:y,thumbnailCaption:b,isSelectFiles:E,selectionType:_,initialSearchTerm:x,isLMS:C}=t;const{preloader:S="spinner"}=igd.settings,A="search"===g&&!i,k="gallery"===g&&!i,[F,N]=mo(igd.activeAccount),[T,B]=mo(!A&&s?s:[]);let L={};!A&&s&&(L=n?{all:s,[n.id]:s}:{all:s});const[O,P]=mo(L),[R,U]=mo([]),[I,j]=mo(null),[D,M]=mo(!s&&!n&&!A),[$,z]=mo({}),[H,K]=mo(!1),[W,Q]=mo(!1),[V,G]=mo(window.innerWidth<=768),[q,Y]=mo(!V&&!i&&!s),[J,X]=mo(!1),[Z,ee]=mo(!V&&"1"==localStorage.getItem("igd_show_details")&&!s),[te,ne]=mo(!1),[ie,oe]=mo(x);let re=hn(F.root_id,F),ae=n||re;igd.isAdmin&&!s&&Fn()?(ae=Fn(),hn(ae.id,F)&&(re=ae)):!i&&!s||n||(ae="all");const[le,se]=mo(re),[ce,de]=mo(ae),[ue,pe]=mo(m||(localStorage.getItem("igd_sort")?JSON.parse(localStorage.getItem("igd_sort")):{sortBy:"name",sortDirection:"asc"})),[me,ge]=mo(void 0!==d?d:"list"===localStorage.getItem("igd_view")),fe=On();go((()=>{f&&f.allowSearch&&x?ye(x):A&&!i||s||n||we()}),[]),go((()=>{if(!fe)return;M(!0),P({});const e={id:F.root_id,accountId:F.id,name:wp.i18n.__("My Drive","integrate-google-drive")};wp.apiFetch({method:"POST",path:"igd/v1/switch-account/",data:{id:F.id}}).then((()=>{we(e)}))}),[F]),go((()=>{fe&&(localStorage.setItem("igd_sort",JSON.stringify(ue)),we(ce))}),[ue]),go((()=>{const e=()=>{G(window.innerWidth<768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const[he,ve]=mo(!1);function we(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(M(!0),K(!1),U([]),e||(e=Fn()),e||(e=i?"all":hn(F.root_id,F)),!s&&"all"===e)return An({folder:"all"}),void M(!1);e.id||(e={id:e}),e.accountId||(e.accountId=F.id),!igd.isAdmin||s||A&&!i||kn(e),s&&!e&&(l?e.isPrivate=!0:e.folders=s),Q(!1),wp.apiFetch({method:"POST",path:"igd/v1/get-files/",data:{folder:e,sort:ue,refresh:t,fileNumbers:p,from_server:i||!!s&&!!n&&n.id===e.id},headers:{"X-WP-Nonce":igd.nonce}}).then((t=>{let{files:n,breadcrumbs:i,error:o}=t;if(o)Swal.fire({html:o,icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2FB44B"});else{if(s&&!e.id)return de(""),void B(s);c&&(n=n.filter((e=>!vn(c,{extension:e.extension,name:e.name,isDir:gn(e.type)})))),B(n),de(e),z(i),P((t=>({...t,[e.id]:n})))}})).catch((e=>{console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok",confirmButtonColor:"#2FB44B"})})).finally((()=>{M(!1)}))}function ye(e){K(!0);let t=ce&&"all"!==ce?[ce]:[];M(!0),U([]),!s||ce&&"all"!==ce||(t=s),Q(!1),wp.apiFetch({method:"POST",path:"igd/v1/search-files/",data:{folders:t,sort:ue,fileNumbers:p,keyword:e,accountId:F.id,isPrivate:l,fullTextSearch:!f||f.fullTextSearch},headers:{"X-WP-Nonce":igd.nonce}}).then((e=>{let{files:t,error:n}=e;n?Swal.fire({html:n,icon:"error",confirmButtonText:"Ok"}):(c&&(t=t.filter((e=>!vn(c,{extension:e.extension,name:e.name,isDir:gn(e.type)})))),B(t))})).catch((e=>{console.log(e),Swal.fire({title:wp.i18n.__("Error!","integrate-google-drive"),text:wp.i18n.__("Something went wrong! Please try again later.","integrate-google-drive"),icon:"error",confirmButtonText:"Ok"})})).finally((()=>{M(!1)}))}go((()=>{he&&"all"!==ce&&(console.log("refresh on image error"),we(ce,!0))}),[he]),go((()=>{if(!$)return;const e=Object.keys($),t=ce&&ce.id?ce.id:ce,i=!!e&&e.findIndex((e=>e===t));if(s&&(n&&(e.find((e=>e===n.id))&&delete $[n.id],e[e.length-1]===n.id&&z({})),-1!==i))for(let t=0;t<i&&!s.find((n=>n.id===e[t]));t++)delete $[e[t]]}),[$]),go((()=>{fe&&(k||U(te?T:[]))}),[te]),go((()=>{fe&&(ne(!1),U([]))}),[ce]);const be=`igd-context-menu-${Date.now()}`,{show:Ee,hideAll:_e}=(xe={id:be},{show:function(e,t){Ki.show({id:(null==t?void 0:t.id)||(null==xe?void 0:xe.id),props:(null==t?void 0:t.props)||(null==xe?void 0:xe.props),event:e,position:null==t?void 0:t.position})},hideAll:function(){Ki.hideAll()}});var xe;return jQuery.isEmptyObject(igd.accounts)?(0,e.createElement)(po,null):(0,e.createElement)(un,{value:{activeAccount:F,activeFiles:R,setActiveFiles:U,activeFile:I,setActiveFile:j,activeFolder:ce,permissions:f,shortcodeBuilderType:g,isList:me,setIsList:ge,setShowDetails:ee,setIsUpload:Q,getFiles:we,isShortcodeBuilder:i,isMobile:V,setActiveAccount:N,allFolders:a,initFolders:s,isSearch:A,setShowSidebar:Y,sort:ue,setSort:pe,setFiles:B,breadcrumbs:$,setActiveFolder:de,activeRoot:le,setActiveRoot:se,isSearchResults:H,setIsSearchResults:K,isOptions:J,setIsOptions:X,listFiles:function(e){const t=e.id;if(K(!1),s&&!t)return de(""),void B(s);if(O[t]){U([]),s||kn(e),B(O[t]),de(e);const n=Object.values(O).flat(),i=e=>{if(Sn(e,F)){const t=hn(e,F);return{[e]:t.name}}const t=n.find((t=>t.id===e));if(!t)return{};let o={[e]:t.name};if(s&&s.find((t=>t.id===e)))return o;const r=t.parents||[];if(!r.length)return o;const a=r[0];return o={...i(a),...o},o};z(i(t))}else we(e)},showBreadcrumbs:w,showRefresh:v,initParentFolder:n,isUpload:W,isLoading:D,files:T,selectedFolders:o,setSelectedFolders:r,exclude:c,showLastModified:u,setShouldRefresh:ve,galleryHeight:y,thumbnailCaption:b,show:Ee,hideAll:_e,contextMenuId:be,isSelectFiles:E,selectionType:_,selectAll:te,setSelectAll:ne,searchFiles:ye,initialSearchTerm:x,searchKeyword:ie,setSearchKeyword:oe,isLMS:C}},(0,e.createElement)("div",{className:"igd-file-browser"},(0,e.createElement)(uo,null),(h||A)&&(0,e.createElement)(Wn,null),(0,e.createElement)("div",{className:"igd-file-browser-body"},q&&(0,e.createElement)(Jn,null),"skeleton"===S&&D&&(0,e.createElement)(Ti,{isList:me}),("skeleton"!==S||!D)&&(0,e.createElement)(Ai,null),!i&&Z&&(0,e.createElement)(Li,null))))}var ho=n(779),vo=n.n(ho);const{Spinner:wo}=wp.components,{useState:yo}=wp.element;function bo(t){let{file:n,files:i,setFile:o,folderFiles:r,getFolderFiles:a,isSub:l,isPlaying:s,setIsPlaying:c,setIsBuffer:d}=t;const[u,p]=yo(null);return(0,e.createElement)("div",{className:l?"sub-item":"igd-player-playlist"},i.map((t=>{let{id:i,iconLink:l,name:m,type:g,extension:f,thumbnailLink:h,accountId:v}=t;const w=!i||gn(g);if(i||(i=t,m=hn(t,igd.accounts[v]),l="https://drive-thirdparty.googleusercontent.com/128/type/application/vnd.google-apps.folder"),!w&&!bn(f))return;const y=i===u,b=!!n&&i===n.id,E=l.replace("/16/","/64/");return(0,e.createElement)("div",{key:i,className:vo()("playlist-item-wrap")},(0,e.createElement)("div",{className:vo()("playlist-item",{active:b}),onClick:()=>{if(w){if(p(!y&&i),r[i])return;a(t)}else n.id===i?s?(c(!1),d(!1)):(c(!0),d(!0)):(c(!0),d(!0),o(t))}},w&&(0,e.createElement)("span",{className:"dashicons "+(y?"dashicons-arrow-down":"dashicons-arrow-right")}),(0,e.createElement)("img",{src:h?yn(i,"",v):E,alt:m}),(0,e.createElement)("span",{className:"item-name"},m),y&&!r[i]&&(0,e.createElement)(wo,null),!w&&b&&s&&(0,e.createElement)("span",{className:"dashicons dashicons-controls-pause"}),!w&&(!b||!s)&&(0,e.createElement)("span",{className:"dashicons dashicons-controls-play"})),y&&!!r[i]&&(0,e.createElement)(bo,{file:n,files:r[i],setFile:o,folderFiles:r,getFolderFiles:a,isSub:!0,isPlaying:s,setIsPlaying:c,setIsBuffer:d}))})))}function Eo(t){let{file:n,isVideo:i,played:o,playerRef:r,Loop:a,Shuffle:l,Next:s,Prev:c,PlaylistToggle:d,PlayPause:u,Volume:p,Download:m,FullscreenToggle:g,isPlaying:f}=t,{iconLink:h,name:v}=n;h=!!h&&h.replace("/16/","/64/");let w=0,y=0,b=0;return r&&(w=r.getCurrentTime(),y=r.getDuration(),w>0&&y>0&&(b=w/y*100)),(0,e.createElement)("div",{className:"igd-player-main"},!i&&(0,e.createElement)("div",{className:"igd-player-details"},(0,e.createElement)("img",{src:h,className:"igd-player-thumbnail"}),(0,e.createElement)("span",{className:"igd-player-title"},v)),(0,e.createElement)("div",{className:"igd-player-progress"},(0,e.createElement)("div",{className:"igd-player-progress-current-time"},!!w&&new Date(1e3*w).toISOString().substr(14,5)),(0,e.createElement)("div",{className:"igd-player-progress-bar"},(0,e.createElement)("input",{type:"range",min:0,max:1,value:o,onChange:e=>r.seekTo(e.target.value),step:.01,style:{"--igd-player-progress":b+"%"}})),(0,e.createElement)("div",{className:"igd-player-progress-duration"},!!y&&new Date(1e3*y).toISOString().substr(14,5))),(0,e.createElement)("div",{className:"igd-player-controls"},c(),u(),s(),p(),a(),l(),g(),m(),d()))}const{Spinner:_o}=wp.components,{useState:xo,useEffect:Co,useRef:So}=wp.element;function Ao(t){let{initFolders:n,showLoop:i,showShuffle:o,showFullscreen:r,nextPrevious:a,volumeButton:l,openedPlaylist:s=!0,download:c}=t;const[d,u]=xo(n[0]),[p,m]=xo(n.filter((e=>!gn(e.type))));Co((()=>{const e=n[0];let{id:t,type:i}=e;!t||gn(i)||(u(e),m(n.filter((e=>!gn(e.type)))))}),[n]);const[g,f]=xo({}),[h,v]=xo(!1),[w,y]=xo("true"===localStorage.getItem("igd_is_loop")),[b,E]=xo("true"===localStorage.getItem("igd_is_random")),[_,x]=xo(s),[C,S]=xo(parseFloat(localStorage.getItem("igd_player_volume"))||.8),[A,k]=xo(!1),F=En(d.extension),[N,T]=xo(0);let B=So(null);const L=p.findIndex((e=>e.id===d.id)),O=()=>{k(!0),v(!0);let e=L+1<p.length?p[L+1]:p[0];b&&(e=p[Math.floor(Math.random()*p.length)]),u(e)},P=()=>{k(!0),v(!0),u(L-1>=0?p[L-1]:p[p.length-1])};return(0,e.createElement)("div",{className:`igd-player skin-1 ${F?"type-video":"type-audio"} ${h?"active":"paused"} ${A?"buffering":""} `},(0,e.createElement)(ReactPlayer,{className:"igd-player-media",ref:B,playing:h,controls:!1,url:`${igd.ajaxUrl}?action=igd_stream&id=${d.id}&accountId=${d.accountId}`,width:F?"100%":0,height:F?"auto":0,loop:w,config:{file:{forceAudio:!F,preload:"auto",attributes:{controlsList:c?"":"nodownload"}}},onPlay:()=>{k(!1),v(!0)},onPause:()=>v(!1),onProgress:e=>{let{played:t}=e;T(t)},onBuffer:()=>{k(!0)},onBufferEnd:()=>{k(!1)},volume:C,onEnded:()=>{O()},onReady:()=>{if(!F)return;const e=B.current.getInternalPlayer(),t=()=>{e.paused?v(!0):v(!1)};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),(0,e.createElement)(Eo,{file:d,isVideo:F,played:N,playerRef:B.current,isPlaying:h,Shuffle:()=>o&&p.length>1&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-tip":wp.i18n.__("Shuffle","integrate-google-drive"),"data-for":"shuffle",className:vo()("dashicons dashicons-randomize",{active:b}),onClick:()=>{E(!b),localStorage.setItem("igd_is_random",b?"false":"true")}}),(0,e.createElement)(sn,{id:"shuffle",place:"top",type:"dark",effect:"solid"})),Next:()=>a&&p.length>1&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-tip":wp.i18n.__("Next","integrate-google-drive"),"data-for":"next",className:"dashicons dashicons-controls-skipforward",onClick:O}),(0,e.createElement)(sn,{id:"next",place:"top",type:"dark",effect:"solid"})),Prev:()=>a&&p.length>1&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-tip":wp.i18n.__("Previous","integrate-google-drive"),"data-for":"prev",className:"dashicons dashicons-controls-skipback",onClick:P}),(0,e.createElement)(sn,{id:"prev",place:"top",type:"dark",effect:"solid"})),Volume:()=>l&&(0,e.createElement)("div",{className:"volume-wrap"},(0,e.createElement)("span",{className:"dashicons dashicons-controls-volumeon"}),(0,e.createElement)("input",{type:"range",min:0,max:1,step:.05,value:C,onChange:e=>{return t=e.target.value,S(t),void localStorage.setItem("igd_player_volume",t);var t},style:{"--volume":100*C+"%"}})),PlaylistToggle:()=>p.length>1&&(0,e.createElement)("span",{className:vo()("dashicons dashicons-playlist-video",{active:_}),onClick:()=>x((e=>!e))}),PlayPause:()=>(0,e.createElement)(e.Fragment,null,h&&A&&(0,e.createElement)(_o,null),h&&!A&&(0,e.createElement)("span",{className:"dashicons dashicons-controls-pause active",onClick:()=>v(!1)}),!h&&(0,e.createElement)("span",{className:"dashicons dashicons-controls-play",onClick:()=>v(!0)})),Loop:()=>i&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-tip":wp.i18n.__("Loop","integrate-google-drive"),"data-for":"loop",className:vo()("dashicons dashicons-update",{active:w}),onClick:()=>{y((e=>!e)),localStorage.setItem("igd_is_loop",w?"false":"true")}}),(0,e.createElement)(sn,{id:"loop",place:"top",type:"dark",effect:"solid"})),FullscreenToggle:()=>r&&F&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-tip":wp.i18n.__("Fullscreen","integrate-google-drive"),"data-for":"fullscreen",className:"dashicons dashicons-fullscreen-alt",onClick:()=>B.current.getInternalPlayer().requestFullscreen()}," "),(0,e.createElement)(sn,{id:"fullscreen",place:"top",type:"dark",effect:"solid"})),Download:()=>!!c&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-tip":wp.i18n.__("Download","integrate-google-drive"),"data-for":"download",className:"dashicons dashicons-download",onClick:()=>{const e=`${igd.ajaxUrl}?action=igd_download&id=${d.id}&accountId=${d.accountId}`;window.open(e,"_blank").focus()}}," "),(0,e.createElement)(sn,{id:"download",place:"top",type:"dark",effect:"solid"}))}),_&&(0,e.createElement)(bo,{file:d,files:n,setFile:u,folderFiles:g,getFolderFiles:e=>{wp.apiFetch({path:"/igd/v1/get-files",data:{folder:e},method:"POST"}).then((t=>{console.log(t);const{files:n}=t;f((t=>({...t,[e.id?e.id:e]:n}))),m((e=>[...e,...n.filter((e=>!gn(e.type)))]))}))},isPlaying:h,setIsPlaying:v,setIsBuffer:k}))}function ko(t){let{initFolders:n,slideName:i,slideDescription:o,slideHeight:r,slidesToShow:a,slideAutoplay:l,slideAutoplaySpeed:s,slideDots:c,slideArrows:d,download:u,preview:p}=t;const m=n.filter((e=>!gn(e.type)&&!!e.thumbnailLink)),g={dots:c,arrows:d,speed:500,slidesToShow:a<m.length?parseInt(a):m.length,slidesToScroll:a<m.length?parseInt(a):m.length,infinite:!0,initialSlide:0,autoplay:l,autoplaySpeed:parseInt(s),cssEase:"linear",nextArrow:(0,e.createElement)("button",{type:"button",className:"slick-arrow slick-next"}),prevArrow:(0,e.createElement)("button",{type:"button",className:"slick-arrow slick-prev"}),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]};return(0,e.createElement)("div",{className:"igd-slider",style:{"--slide-height":r}},(0,e.createElement)(Slider.default,g,m.map(((t,n)=>{const{id:r,accountId:a,name:l,description:s,updated:c,iconLink:d,type:g,thumbnailLink:f}=t,h=Bn("gallery",r,a,f,d);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"slider-img-wrap"},(0,e.createElement)("img",{referrerPolicy:"no-referrer",src:h,alt:l})),(0,e.createElement)("div",{className:"slider-content-wrap"},i&&(0,e.createElement)("h3",null,l),o&&!!s&&(0,e.createElement)("p",null,s),(0,e.createElement)("div",{className:"slider-actions"},p&&(0,e.createElement)("button",{className:"igd-btn btn-primary",onClick:e=>((e,t)=>{Pn(e,t,m,{download:u,preview:p,inlinePreview:!0})})(e,r)},(0,e.createElement)("i",{className:"dashicons dashicons-search"})),u&&(0,e.createElement)("button",{className:"igd-btn btn-primary",onClick:e=>((e,t)=>{const n=`${igd.ajaxUrl}?action=igd_download&id=${e}&accountId=${t}`;window.location.href=n})(r,a)},(0,e.createElement)("i",{className:"dashicons dashicons-download"})))))}))))}const{Spinner:Fo}=wp.components,{useEffect:No,useState:To}=wp.element;function Bo(t){let{data:n,isPreview:i}=t;const[o,r]=To(!1),[a,l]=To(""),{type:s,allFolders:c,privateFolders:d=!1,folders:u=[],showFiles:p=!0,showFolders:m=!0,excludeExtensions:g,excludeAllExtensions:f,excludeExceptExtensions:h,excludeNames:v,excludeAllNames:w,excludeExceptNames:y,galleryHeight:b=300,thumbnailCaption:E=!1,view:_,showLastModified:x=!1,showHeader:C=!0,showRefresh:S=!0,showBreadcrumbs:A=!0,showLoop:k=!0,showShuffle:F=!0,showFullscreen:N=!0,nextPrevious:T=!0,volumeButton:B=!0,openedPlaylist:L=!0,fileNumbers:O,sort:P,maxFiles:R,maxFileSize:U,minFileSize:I,enableFolderUpload:j,showUploadLabel:D,uploadLabelText:M,uploadFileName:$,preview:z=!0,inlinePreview:H=!0,allowPreviewPopout:K=!0,directLink:W=!1,edit:Q=!1,newFolder:V=!1,rename:G=!1,details:q=!1,moveCopy:Y,moveCopy:J,canDelete:X=!1,upload:Z=!1,download:ee=!0,zipDownload:te=!0,allowShare:ne=!1,allowSearch:ie=!1,fullTextSearch:oe=!0,initialSearchTerm:re="",comment:ae=!1,commentMethod:le="facebook",isFormUploader:se,isRequired:ce,isWooCommerceUploader:de,wcOrderId:ue,wcProductId:pe,initParentFolder:me,slideName:ge=!0,slideDescription:fe,slideHeight:he="300px",slidesToShow:ve=3,slidesToScroll:we=1,slideAutoplay:ye,slideAutoplaySpeed:be=3e3,slideDots:Ee=!0,slideArrows:_e=!0}=n,xe=c?hn():u;return No((()=>{i&&(r(!0),wp.apiFetch({path:"/igd/v1/get-shortcode-content",data:n,method:"POST"}).then((e=>{let{data:t}=e;l(t)})).catch((e=>{console.log(e)})).finally((()=>{r(!1),setTimeout((()=>{jQuery(".igd").each((function(t,n){try{const t=jQuery(n).find(".shortcode-data").html();if(!t)return;const i=JSON.parse(t);Object.keys(i).forEach((function(e){"true"===i[e]?i[e]=!0:"false"===i[e]&&(i[e]=!1)})),wp.element.render((0,e.createElement)(Bo,{data:{...i}}),n)}catch(e){console.log(e)}}))}),100)})))}),[i,n]),(0,e.createElement)(e.Fragment,null,i&&o&&(0,e.createElement)("div",{className:"igd-loading-spinner"},(0,e.createElement)(Fo,null)),i&&!o&&(0,e.createElement)("div",{className:"preview-inner",dangerouslySetInnerHTML:{__html:a}}),!i&&(0,e.createElement)(e.Fragment,null,["browser","gallery","search"].includes(s)&&(0,e.createElement)(fo,{galleryHeight:b,thumbnailCaption:E,initParentFolder:me,allFolders:c,privateFolders:d,initFolders:xe,exclude:{excludeExtensions:g,excludeAllExtensions:f,excludeExceptExtensions:h,excludeNames:v,excludeAllNames:w,excludeExceptNames:y,showFiles:p,showFolders:m},isList:"list"===_,showLastModified:x,showHeader:C,showRefresh:S,showBreadcrumbs:A,fileNumbers:O,sort:P,shortcodeBuilderType:s,permissions:{preview:z,inlinePreview:H,allowPreviewPopout:K,directLink:W,newFolder:V,rename:G,move:J,copy:Y,upload:Z,download:ee,zipDownload:te,details:q,delete:X,share:ne,allowSearch:ie,edit:Q,fullTextSearch:oe,comment:ae,commentMethod:le},initialSearchTerm:re}),"slider"===s&&(0,e.createElement)(ko,{initFolders:xe,slideName:ge,slideDescription:fe,slideHeight:he,slidesToShow:ve,slidesToScroll:we,slideAutoplay:ye,slideAutoplaySpeed:be,slideDots:Ee,slideArrows:_e,download:n.download,preview:n.preview}),"uploader"===s&&(0,e.createElement)(un,{value:{folders:u,exclude:{excludeExtensions:g,excludeAllExtensions:f,excludeExceptExtensions:h},maxFiles:R,maxFileSize:U,minFileSize:I,enableFolderUpload:j,isFormUploader:se,isRequired:ce,showUploadLabel:D,uploadLabelText:M,uploadFileName:$,isWooCommerceUploader:de,wcOrderId:ue,wcProductId:pe}},(0,e.createElement)(oi,null)),"media"===s&&(0,e.createElement)(Ao,{initFolders:xe,showLoop:k,showShuffle:F,showFullscreen:N,nextPrevious:T,volumeButton:B,openedPlaylist:L,download:n.download})))}var Lo=window.wp.blockEditor,Oo=window.wp.components;const{registerBlockType:Po}=wp.blocks;Po("igd/shortcodes",{...t,icon:(0,e.createElement)("svg",{width:"22",height:"26",viewBox:"0 0 22 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",{"clip-path":"url(#clip0_932_7536)"},(0,e.createElement)("path",{d:"M6.57378 22.4851C4.55587 22.4851 2.61411 22.4851 0.615234 22.4851C0.615234 16.1683 0.615234 9.87104 0.615234 3.53467C2.59507 3.53467 4.53683 3.53467 6.57378 3.53467C6.57378 4.5125 6.57378 5.5099 6.57378 6.58552C5.64097 6.58552 4.67009 6.58552 3.6421 6.58552C3.6421 10.8684 3.6421 15.0536 3.6421 19.3365C4.61298 19.3365 5.58386 19.3365 6.57378 19.3365C6.57378 20.4512 6.57378 21.4486 6.57378 22.4851Z",fill:"url(#paint0_linear_932_7536)"}),(0,e.createElement)("path",{d:"M21.3843 22.4655C19.3664 22.4655 17.4246 22.4655 15.3877 22.4655C15.3877 21.4486 15.3877 20.4512 15.3877 19.3756C16.3586 19.3756 17.3295 19.3756 18.3384 19.3756C18.3384 15.0926 18.3384 10.9075 18.3384 6.66369C17.3485 6.66369 16.4157 6.66369 15.3877 6.66369C15.3877 5.60763 15.3877 4.62979 15.3877 3.57373C17.3485 3.57373 19.3283 3.57373 21.3653 3.57373C21.3843 9.81232 21.3843 16.09 21.3843 22.4655Z",fill:"url(#paint1_linear_932_7536)"}),(0,e.createElement)("path",{d:"M11.3138 24.8708L7.65869 25.6922L10.4571 1.36368L14.1312 0.307617L11.3138 24.8708Z",fill:"url(#paint2_linear_932_7536)"})),(0,e.createElement)("defs",null,(0,e.createElement)("linearGradient",{id:"paint0_linear_932_7536",x1:"3.59451",y1:"3.53467",x2:"3.59451",y2:"22.4851",gradientUnits:"userSpaceOnUse"},(0,e.createElement)("stop",{stopColor:"#50D890"}),(0,e.createElement)("stop",{offset:"1",stopColor:"#28CAA3"})),(0,e.createElement)("linearGradient",{id:"paint1_linear_932_7536",x1:"18.386",y1:"3.57373",x2:"18.386",y2:"22.4655",gradientUnits:"userSpaceOnUse"},(0,e.createElement)("stop",{stopColor:"#50D890"}),(0,e.createElement)("stop",{offset:"1",stopColor:"#28CAA3"})),(0,e.createElement)("linearGradient",{id:"paint2_linear_932_7536",x1:"10.895",y1:"0.307617",x2:"10.895",y2:"25.6922",gradientUnits:"userSpaceOnUse"},(0,e.createElement)("stop",{stopColor:"#50D890"}),(0,e.createElement)("stop",{offset:"1",stopColor:"#28CAA3"})),(0,e.createElement)("clipPath",{id:"clip0_932_7536"},(0,e.createElement)("rect",{width:"20.7692",height:"25.3846",fill:"white",transform:"translate(0.615234 0.307617)"})))),edit:function(t){let{attributes:n,setAttributes:i}=t;const o=(0,e.createElement)("svg",{width:20,height:20,viewBox:"0 0 87.3 78",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"m6.6 66.85 3.85 6.65c.8 1.4 1.95 2.5 3.3 3.3l13.75-23.8h-27.5c0 1.55.4 3.1 1.2 4.5z",fill:"#0066da"}),(0,e.createElement)("path",{d:"m43.65 25-13.75-23.8c-1.35.8-2.5 1.9-3.3 3.3l-25.4 44a9.06 9.06 0 0 0 -1.2 4.5h27.5z",fill:"#00ac47"}),(0,e.createElement)("path",{d:"m73.55 76.8c1.35-.8 2.5-1.9 3.3-3.3l1.6-2.75 7.65-13.25c.8-1.4 1.2-2.95 1.2-4.5h-27.502l5.852 11.5z",fill:"#ea4335"}),(0,e.createElement)("path",{d:"m43.65 25 13.75-23.8c-1.35-.8-2.9-1.2-4.5-1.2h-18.5c-1.6 0-3.15.45-4.5 1.2z",fill:"#00832d"}),(0,e.createElement)("path",{d:"m59.8 53h-32.3l-13.75 23.8c1.35.8 2.9 1.2 4.5 1.2h50.8c1.6 0 3.15-.45 4.5-1.2z",fill:"#2684fc"}),(0,e.createElement)("path",{d:"m73.4 26.5-12.7-22c-.8-1.4-1.95-2.5-3.3-3.3l-13.75 23.8 16.15 28h27.45c0-1.55-.4-3.1-1.2-4.5z",fill:"#ffba00"})),[r,a]=(0,e.useState)(!0),[s,c]=(0,e.useState)([]),{id:d}=n;(0,e.useEffect)((()=>{wp.ajax.send("igd_get_shortcodes",{success:e=>{a(!1),c(e)}})}),[]);const u=!!s&&[{label:wp.i18n.__("Select shortcode","integrate-google-drive"),value:""},...s.map((e=>({label:e.title,value:e.id})))];return(0,e.createElement)("div",(0,Lo.useBlockProps)(),(0,e.createElement)(l,{attributes:n,setAttributes:i,options:u}),!!d&&(0,e.createElement)(Lo.BlockControls,null,(0,e.createElement)(Oo.ToolbarButton,{icon:"edit",text:wp.i18n.__("Change Shortcode","integrate-google-drive"),label:wp.i18n.__("Change Shortcode","integrate-google-drive"),onClick:e=>i({id:null}),showTooltip:!0})),!d&&(0,e.createElement)(Oo.Placeholder,{icon:o,label:wp.i18n.__("Module Shortcodes","integrate-google-drive"),instructions:wp.i18n.__("Select a module shortcode to insert.","integrate-google-drive"),isColumnLayout:!0},r?(0,e.createElement)(Oo.Spinner,null):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,"Select shortcode:"),(0,e.createElement)(Oo.SelectControl,{options:u,value:d,onChange:e=>{i({id:parseInt(e)})},style:{minHeight:"40px"}}))),!!d&&!!s.length&&(0,e.createElement)(Bo,{data:s.find((e=>e.id==d)).config,isPreview:!0}))}})}()}();